{
    "version": "https://jsonfeed.org/version/1",
    "title": "Ehmi",
    "description": "",
    "home_page_url": "https://ehmi.se/blog",
    "feed_url": "https://ehmi.se/blog/feed.json",
    "user_comment": "",
    "icon": "https://ehmi.se/blog/media/website/ehmi.png",
    "author": {
        "name": "Ehmad"
    },
    "items": [
        {
            "id": "https://ehmi.se/blog/how-to-use-discord-webhook-with-examples-the-ultimate-step-by-step-guide/",
            "url": "https://ehmi.se/blog/how-to-use-discord-webhook-with-examples-the-ultimate-step-by-step-guide/",
            "title": "How to Use Discord Webhook with Examples: The Ultimate Step-by-Step Guide",
            "summary": "Introduction to Discord Webhooks Discord has grown beyond a simple voice chat platform into a full-fledged community hub for gamers, developers, and businesses alike. One of the most powerful tools it offers is webhooks. But what exactly are Discord webhooks, and how can you use&hellip;",
            "content_html": "<h3 id=\"introduction-to-discord-webhooks\"><strong>Introduction to Discord Webhooks</strong></h3>\n<p>Discord has grown beyond a simple voice chat platform into a full-fledged community hub for gamers, developers, and businesses alike. One of the most powerful tools it offers is <strong>webhooks</strong>.</p><p>But what exactly are Discord webhooks, and how can you use them effectively? Whether you‚Äôre a beginner looking to send automated notifications or a developer integrating external apps, this guide will walk you through everything you need to know‚Äîcomplete with practical examples.</p><hr>\n<h2 id=\"what-are-discord-webhooks\"><strong>What Are Discord Webhooks?</strong></h2>\n<p>At its core, a <strong>Discord webhook</strong> is a way for external applications to send messages into a Discord channel automatically. Instead of typing a message yourself, you can configure apps or scripts to push content directly into your server.</p><p>In simpler terms, think of webhooks as automated messengers that can deliver updates, alerts, or notifications straight into your community.</p><hr>\n<h2 id=\"why-use-discord-webhooks\"><strong>Why Use Discord Webhooks?</strong></h2>\n<p>Some of the most common reasons people use Discord webhooks include:</p><ul>\n<li><p><strong>Automated Notifications</strong> ‚Äì Get alerts when a new commit is pushed on GitHub or when your server goes down.</p></li>\n<li><p><strong>Integration with External Apps</strong> ‚Äì Connect platforms like Trello, GitHub, or Jenkins with your Discord server.</p></li>\n<li><p><strong>Custom Announcements</strong> ‚Äì Post updates from a website, blog, or bot without manual input.</p></li>\n</ul>\n<hr>\n<h2 id=\"benefits-of-discord-webhooks-for-developers-and-communities\"><strong>Benefits of Discord Webhooks for Developers and Communities</strong></h2>\n<ul>\n<li><p>Saves time with automation</p></li>\n<li><p>Improves communication in communities</p></li>\n<li><p>Provides real-time monitoring (e.g., error alerts, API logs)</p></li>\n<li><p>Easy to set up without coding knowledge</p></li>\n</ul>\n<hr>\n<h2 id=\"setting-up-a-discord-webhook\"><strong>Setting Up a Discord Webhook</strong></h2>\n<h3 id=\"prerequisites-before-creating-a-webhook\"><strong>Prerequisites Before Creating a Webhook</strong></h3>\n<p>Before you start, make sure you have:</p><ul>\n<li><p>A Discord server where you have <strong>Manage Webhooks</strong> permission</p></li>\n<li><p>A channel where notifications will be posted</p></li>\n<li><p>Basic familiarity with copy-pasting links</p></li>\n</ul>\n<hr>\n<h3 id=\"step-by-step-guide-to-creating-a-webhook-in-discord\"><strong>Step-by-Step Guide to Creating a Webhook in Discord</strong></h3>\n<ol>\n<li><p>Open <strong>Server Settings</strong> in Discord.</p></li>\n<li><p>Select <strong>Integrations</strong> ‚Üí <strong>Webhooks</strong>.</p></li>\n<li><p>Click <strong>New Webhook</strong>.</p></li>\n<li><p>Give your webhook a name and assign it to a channel.</p></li>\n<li><p>Copy the <strong>Webhook URL</strong>‚Äîthis is what you‚Äôll use to send data.</p></li>\n</ol>\n<h2 id=\"image-description\"><figure class=\"post__image\"><img loading=\"lazy\" src=\"https://ehmi.se/blog/media/posts/47/image_proxy.png\" alt=\"Image description\" width=\"753\" height=\"310\" sizes=\"(max-width: 1920px) 100vw, 1920px\" srcset=\"https://ehmi.se/blog/media/posts/47/responsive/image_proxy-xs.webp 640w ,https://ehmi.se/blog/media/posts/47/responsive/image_proxy-sm.webp 768w ,https://ehmi.se/blog/media/posts/47/responsive/image_proxy-md.webp 1024w ,https://ehmi.se/blog/media/posts/47/responsive/image_proxy-lg.webp 1366w ,https://ehmi.se/blog/media/posts/47/responsive/image_proxy-xl.webp 1600w ,https://ehmi.se/blog/media/posts/47/responsive/image_proxy-2xl.webp 1920w\"></figure></h2>\n<h3 id=\"managing-and-customizing-your-webhook\"><strong>Managing and Customizing Your Webhook</strong></h3>\n<p>You can:</p><ul>\n<li><p>Assign an avatar (custom profile picture)</p></li>\n<li><p>Change its posting channel anytime</p></li>\n<li><p>Rename the webhook for different use cases</p></li>\n</ul>\n<hr>\n<h2 id=\"how-discord-webhooks-work-internally\"><strong>How Discord Webhooks Work Internally</strong></h2>\n<h3 id=\"anatomy-of-a-webhook-url\"><strong>Anatomy of a Webhook URL</strong></h3>\n<p>A Discord webhook URL looks like this:</p><pre><code>https://discord.com/api/webhooks/{webhook.id}/{webhook.token}\n</code></pre>\n<p>Both the <strong>ID</strong> and <strong>Token</strong> must be kept secure, as anyone with this link can post messages to your channel.</p><hr>\n<h3 id=\"supported-data-formats-json--embeds\"><strong>Supported Data Formats (JSON &amp; Embeds)</strong></h3>\n<ul>\n<li><p><strong>Plain text messages</strong> ‚Äì Quick updates</p></li>\n<li><p><strong>JSON payloads</strong> ‚Äì Structured data</p></li>\n<li><p><strong>Embeds</strong> ‚Äì Rich content with titles, descriptions, images, and fields</p></li>\n</ul>\n<hr>\n<h2 id=\"sending-messages-with-discord-webhooks\"><strong>Sending Messages with Discord Webhooks</strong></h2>\n<h3 id=\"sending-a-simple-text-message-via-curl\"><strong>Sending a Simple Text Message via cURL</strong></h3>\n<pre><code class=\"language-bash\">curl -H &quot;Content-Type: application/json&quot; \\\n-d &#39;{&quot;content&quot;:&quot;Hello from Discord Webhook!&quot;}&#39; \\\nhttps://discord.com/api/webhooks/WEBHOOK_ID/WEBHOOK_TOKEN\n</code></pre>\n<hr>\n<h3 id=\"sending-json-payloads-with-custom-formatting\"><strong>Sending JSON Payloads with Custom Formatting</strong></h3>\n<pre><code class=\"language-json\">{\n  &quot;content&quot;: &quot;New update available!&quot;,\n  &quot;username&quot;: &quot;Update Bot&quot;,\n  &quot;avatar_url&quot;: &quot;https://example.com/avatar.png&quot;\n}\n</code></pre>\n<hr>\n<h3 id=\"adding-embeds-for-rich-content\"><strong>Adding Embeds for Rich Content</strong></h3>\n<pre><code class=\"language-json\">{\n  &quot;embeds&quot;: [{\n    &quot;title&quot;: &quot;Server Status&quot;,\n    &quot;description&quot;: &quot;‚úÖ All systems operational&quot;,\n    &quot;color&quot;: 65280\n  }]\n}\n</code></pre>\n<hr>\n<h2 id=\"practical-examples-of-using-discord-webhooks\"><strong>Practical Examples of Using Discord Webhooks</strong></h2>\n<h3 id=\"example-1-github-push-notifications\">Example 1: GitHub Push Notifications</h3>\n<p>In your GitHub repository, go to Settings ‚Üí Webhooks ‚Üí Add Webhook.</p><p>Paste your Discord Webhook URL into the ‚ÄúPayload URL‚Äù field.</p><p>Set the Content type to application/json and choose which events you‚Äôd like (e.g., push, pull_request, or issues).</p><p>Now, whenever someone pushes new code, merges a pull request, or opens an issue, Discord will automatically post a structured message in your chosen channel.</p><p>This makes it easy for your whole team to stay up-to-date on changes without leaving Discord.</p><h3 id=\"example-2-server-monitoring-alerts\">Example 2: Server Monitoring Alerts</h3>\n<p>Use free uptime monitoring services like UptimeRobot, BetterUptime, or even custom scripts running on your server.</p><p>Configure these tools to send alerts to your Discord Webhook if your website or application goes offline, response times spike, or critical errors occur.</p><p>You can customize alert frequency (e.g., every 5 minutes if downtime persists) and format the message to include server name, timestamp, and current status.</p><p>This ensures your team gets real-time alerts directly in Discord, making it easier to respond quickly without having to constantly check dashboards.</p><h3 id=\"example-3-custom-bot-like-notifications\">Example 3: Custom Bot-like Notifications</h3>\n<p>Even without coding a bot, Discord webhooks allow you to send styled messages using JSON payloads.</p><p>You can customize:</p><p>Username &amp; Avatar ‚Üí Make messages appear as if they came from a bot or a custom account.</p><p>Rich Embeds ‚Üí Add colored sidebars, bold titles, clickable links, images, and even fields with structured data.</p><p>Timestamps ‚Üí Automatically show when an event occurred.</p><p>Example: You could create a webhook that posts a daily summary like:</p><p>‚Äú‚úÖ All systems running smoothly‚Äù</p><p>‚Äú‚ö†Ô∏è Warning: Disk usage at 85%‚Äù</p><p>This makes the webhook feel like a lightweight bot, perfect for dashboards, reminders, or project updates without needing to host or code a full bot.</p><h2 id=\"advanced-webhook-features\"><strong>Advanced Webhook Features</strong></h2>\n<p>Discord webhooks may seem simple at first glance, but they offer powerful features when combined with external scripts and automation tools. Let‚Äôs break down some advanced capabilities.</p><hr>\n<h3 id=\"using-multiple-webhooks-in-one-channel\"><strong>Using Multiple Webhooks in One Channel</strong></h3>\n<ul>\n<li><p>A single channel can have <strong>multiple webhooks</strong> assigned.</p></li>\n<li><p>This is useful if you want different integrations‚Äîfor example:</p><ul>\n<li><p>One webhook for GitHub updates</p></li>\n<li><p>Another webhook for server monitoring</p></li>\n<li><p>A third webhook for announcements</p></li>\n</ul>\n</li>\n</ul>\n<p><strong>Pro Tip:</strong> Assign unique usernames and avatars to differentiate which webhook sent the message.</p><hr>\n<h3 id=\"automating-webhooks-with-python-or-nodejs\"><strong>Automating Webhooks with Python or Node.js</strong></h3>\n<p>Instead of manually using cURL, you can integrate webhooks into scripts or applications.</p><h4 id=\"example-sending-a-message-with-python-using-requests\">Example: Sending a Message with Python (using <code>requests</code>)</h4>\n<pre><code class=\"language-python\">import requests\n\nurl = &quot;https://discord.com/api/webhooks/WEBHOOK_ID/WEBHOOK_TOKEN&quot;\ndata = {\n    &quot;content&quot;: &quot;Hello from Python!&quot;,\n    &quot;username&quot;: &quot;Python Bot&quot;\n}\n\nresponse = requests.post(url, json=data)\nprint(response.status_code)\n</code></pre>\n<h4 id=\"example-sending-a-message-with-nodejs\">Example: Sending a Message with Node.js</h4>\n<pre><code class=\"language-javascript\">const fetch = require(&quot;node-fetch&quot;);\n\nconst url = &quot;https://discord.com/api/webhooks/WEBHOOK_ID/WEBHOOK_TOKEN&quot;;\n\nconst data = {\n  content: &quot;Hello from Node.js!&quot;,\n  username: &quot;Node Bot&quot;\n};\n\nfetch(url, {\n  method: &quot;POST&quot;,\n  headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },\n  body: JSON.stringify(data)\n})\n.then(res =&gt; console.log(res.status));\n</code></pre>\n<p>With these, you can automate <strong>alerts, reminders, and event notifications</strong>.</p><hr>\n<h3 id=\"rate-limits-and-best-practices\"><strong>Rate Limits and Best Practices</strong></h3>\n<p>Discord webhooks are subject to <strong>rate limits</strong> to prevent spam:</p><ul>\n<li><p>Maximum of <strong>5 requests per second per webhook</strong></p></li>\n<li><p>Payload size should not exceed <strong>8 MB</strong></p></li>\n</ul>\n<p><strong>Best Practices:</strong></p><ul>\n<li><p>Bundle multiple messages into a single embed instead of spamming</p></li>\n<li><p>Don‚Äôt expose your webhook URL in public code repositories</p></li>\n<li><p>Use environment variables for storing webhook tokens securely</p></li>\n</ul>\n<hr>\n<h2 id=\"security-considerations-for-discord-webhooks\"><strong>Security Considerations for Discord Webhooks</strong></h2>\n<h3 id=\"protecting-your-webhook-url\"><strong>Protecting Your Webhook URL</strong></h3>\n<p>Anyone with your webhook URL can post messages in your channel. To secure it:</p><ul>\n<li><p><strong>Never share</strong> the URL publicly</p></li>\n<li><p>Store it in a safe location (e.g., <code>.env</code> file for projects)</p></li>\n<li><p>Regenerate the webhook if you suspect it has been compromised</p></li>\n</ul>\n<hr>\n<h3 id=\"common-mistakes-to-avoid\"><strong>Common Mistakes to Avoid</strong></h3>\n<ul>\n<li><p>Posting <strong>sensitive information</strong> (passwords, API keys) through webhooks</p></li>\n<li><p>Forgetting to set the <strong>Content-Type</strong> header as <code>application/json</code></p></li>\n<li><p>Ignoring <strong>rate limits</strong>, which may result in failed requests</p></li>\n</ul>\n<hr>\n<h2 id=\"troubleshooting-common-webhook-issues\"><strong>Troubleshooting Common Webhook Issues</strong></h2>\n<h3 id=\"why-is-my-webhook-not-sending\"><strong>Why Is My Webhook Not Sending?</strong></h3>\n<p>Common reasons include:</p><ul>\n<li><p>Invalid webhook URL (copied incorrectly)</p></li>\n<li><p>Missing <strong>Content-Type</strong> header</p></li>\n<li><p>JSON payload formatting errors</p></li>\n</ul>\n<hr>\n<h3 id=\"debugging-json-payload-errors\"><strong>Debugging JSON Payload Errors</strong></h3>\n<p>If Discord rejects your request, double-check:</p><ul>\n<li><p>Brackets <code>{}</code> and arrays <code>[]</code> are properly closed</p></li>\n<li><p>Field names are lowercase (e.g., <code>&quot;content&quot;</code>, not <code>&quot;Content&quot;</code>)</p></li>\n<li><p>Payload size does not exceed <strong>8 MB</strong></p></li>\n</ul>\n<p>You can validate JSON at <a href=\"https://jsonlint.com\">https://jsonlint.com</a>.</p><hr>\n<h2 id=\"faqs-about-discord-webhooks\"><strong>FAQs About Discord Webhooks</strong></h2>\n<h3 id=\"can-i-use-discord-webhooks-without-a-bot\"><strong>Can I use Discord webhooks without a bot?</strong></h3>\n<p>Yes! Unlike bots, webhooks don‚Äôt require coding or OAuth2 setup. You simply paste the webhook URL into your script or integration tool.</p><hr>\n<h3 id=\"what-is-the-message-limit-for-webhooks\"><strong>What is the message limit for webhooks?</strong></h3>\n<p>Each webhook message can have up to <strong>2000 characters in plain text</strong> or <strong>6000 characters if using embeds</strong>.</p><hr>\n<h3 id=\"how-many-webhooks-can-a-channel-have\"><strong>How many webhooks can a channel have?</strong></h3>\n<p>A single channel can have up to <strong>10 webhooks</strong>.</p><hr>\n<h3 id=\"can-i-edit-or-delete-webhook-messages\"><strong>Can I edit or delete webhook messages?</strong></h3>\n<p>Yes. Webhooks can <strong>edit</strong> or <strong>delete</strong> their own messages, but not those of other webhooks or users.</p><hr>\n<h3 id=\"are-discord-webhooks-free-to-use\"><strong>Are Discord webhooks free to use?</strong></h3>\n<p>Absolutely! Discord provides webhooks free of charge, making them accessible to all communities and developers.</p><hr>\n<h3 id=\"can-i-schedule-webhook-messages\"><strong>Can I schedule webhook messages?</strong></h3>\n<p>Not directly. However, you can schedule them using <strong>cron jobs</strong> in Linux or third-party automation tools like <strong>Zapier</strong> or <strong>IFTTT</strong>.</p><hr>\n<h2 id=\"conclusion\"><strong>Conclusion</strong></h2>\n<p>Discord webhooks are one of the most powerful yet underrated features of the platform. Whether you‚Äôre a developer seeking real-time integrations or a community admin who wants automated updates, webhooks can save time, improve communication, and enhance engagement.</p><p>By following this guide, you‚Äôve learned:</p><ul>\n<li><p>What Discord webhooks are and why they‚Äôre useful</p></li>\n<li><p>How to create and customize them</p></li>\n<li><p>How to send messages using cURL, JSON, Python, and Node.js</p></li>\n<li><p>Advanced features like embeds, automation, and security best practices</p></li>\n<li><p>Real-world examples for GitHub, monitoring, and notifications</p></li>\n</ul>\n<p>So go ahead‚Äîset up your own webhook today and unlock the full potential of Discord automation. üöÄ</p>",
            "image": "https://ehmi.se/blog/media/posts/47/image_proxy-2.png",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
                   "webhook ",
                   "tutorial",
                   "discord"
            ],
            "date_published": "2025-08-24T18:42:09+05:00",
            "date_modified": "2025-08-24T18:59:50+05:00"
        },
        {
            "id": "https://ehmi.se/blog/recovering-deleted-files-from-encrypted-rclone-backups/",
            "url": "https://ehmi.se/blog/recovering-deleted-files-from-encrypted-rclone-backups/",
            "title": "Recovering Deleted Files from Encrypted rclone Backups",
            "summary": "Accidentally deleting a file from a production system can happen to anyone ‚Äî a misplaced rm -rf, an accidental overwrite, or even a CMS update gone wrong. If you‚Äôve been running automated rclone backups with encryption via rclone crypt, you have a powerful safety net.",
            "content_html": "<p>Accidentally deleting a file from a production system can happen to anyone ‚Äî a misplaced <code>rm -rf</code>, an accidental overwrite, or even a CMS update gone wrong.\nIf you‚Äôve been running automated <strong>rclone</strong> backups with encryption via <code>rclone crypt</code>, you have a powerful safety net.</p><p>In this guide, we‚Äôll walk through:</p><ul>\n<li>How encrypted rclone backups work</li>\n<li>How to verify your encrypted remote is working</li>\n<li>How to search for and locate deleted files</li>\n<li>How to restore them safely without breaking your live environment</li>\n<li>Best practices for making future recoveries faster</li>\n</ul>\n<hr>\n<h2 id=\"1-understanding-your-encrypted-backup-setup\"><strong>1. Understanding Your Encrypted Backup Setup</strong></h2>\n<p>When you use <code>rclone crypt</code>, you are not uploading raw files. Instead:</p><ol>\n<li>Files are <strong>encrypted locally</strong> before leaving your machine</li>\n<li>Filenames and directory names are also scrambled (optional but recommended)</li>\n<li>The remote cloud storage provider only sees random binary data</li>\n<li>rclone decrypts transparently when you access the remote through the crypt configuration</li>\n</ol>\n<p>A typical configuration involves <strong>two remotes</strong>:</p><ul>\n<li>A <strong>base remote</strong> ‚Äî e.g., an S3 bucket, Google Drive, etc.</li>\n<li>A <strong>crypt remote</strong> ‚Äî pointing to a folder inside the base remote, where encryption is applied</li>\n</ul>\n<p>Example from <code>rclone.conf</code>:</p><pre><code class=\"language-ini\">[my-backup]\ntype = s3\nprovider = Other\naccess_key_id = ********\nsecret_access_key = ********\nendpoint = https://s3.example.com\n\n[my-backup-crypt]\ntype = crypt\nremote = my-backup:encrypted-storage\npassword = &lt;encrypted-password&gt;\npassword2 = &lt;encrypted-salt&gt;\n</code></pre>\n<p>With this setup, all operations happen on <code>my-backup-crypt:</code>, but the physical data is stored encrypted inside <code>my-backup:</code>. a complete indepth <a href=\"https://blog.ehmad.site/secure-your-backups-with-rclone-crypt-s3/\">guide here</a> </p><hr>\n<h2 id=\"2-confirming-the-file-exists-in-backup\"><strong>2. Confirming the File Exists in Backup</strong></h2>\n<p>When a file is deleted locally, your backup may still contain it ‚Äî unless it has already been overwritten by a sync operation.</p><p><strong>Step 1 ‚Äî List the folder where you expect the file to be</strong>:</p><pre><code class=\"language-bash\">rclone --config=/path/to/rclone.conf ls my-backup-crypt:backups/var-www/html/\n</code></pre>\n<p>If the file is present, it will appear in the output along with its size.</p><p><strong>Step 2 ‚Äî Search the entire backup if unsure</strong>:</p><pre><code class=\"language-bash\">rclone --config=/path/to/rclone.conf ls my-backup-crypt:backups | grep index.php\n</code></pre>\n<p>This works even with encrypted remotes because rclone will decrypt filenames before showing them (as long as you‚Äôre accessing via the crypt remote).</p><hr>\n<h2 id=\"3-restoring-a-deleted-file\"><strong>3. Restoring a Deleted File</strong></h2>\n<p>Once you‚Äôve confirmed the file exists, restoring it is straightforward.</p><p><strong>Restore to the original location</strong>:</p><pre><code class=\"language-bash\">rclone --config=/path/to/rclone.conf copy my-backup-crypt:backups/var-www/html/index.php /var/www/html/ -P\n</code></pre>\n<p><strong>Restore to a safe temporary folder first</strong> (recommended for production):</p><pre><code class=\"language-bash\">mkdir -p /tmp/recovery-test\nrclone --config=/path/to/rclone.conf copy my-backup-crypt:backups/var-www/html/index.php /tmp/recovery-test -P\n</code></pre>\n<p>Once you confirm the file integrity, you can move it back into production.</p><hr>\n<h2 id=\"4-handling-versioned-or-snapshot-backups\"><strong>4. Handling Versioned or Snapshot Backups</strong></h2>\n<p>If your backup strategy uses <strong>dated snapshots</strong> (e.g., <code>/backups/2025-08-10/var-www/...</code>), you can recover older versions:</p><pre><code class=\"language-bash\">rclone --config=/path/to/rclone.conf copy my-backup-crypt:backups/2025-08-01/var-www/html/index.php /var/www/html/ -P\n</code></pre>\n<p>Snapshots are especially useful when a bad file sync might have overwritten the good copy in your main backup folder.</p><hr>\n<h2 id=\"5-troubleshooting-common-recovery-issues\"><strong>5. Troubleshooting Common Recovery Issues</strong></h2>\n<h3 id=\"file-not-found\"><strong>File Not Found</strong></h3>\n<ul>\n<li>Check if your backup script used <code>sync</code> instead of <code>copy</code> ‚Äî <code>sync</code> can delete files from the remote if they are deleted locally.</li>\n<li>Look inside older dated snapshot folders.</li>\n</ul>\n<h3 id=\"permission-errors\"><strong>Permission Errors</strong></h3>\n<ul>\n<li><p>Run with <code>sudo</code> if restoring to system-owned directories (e.g., <code>/etc</code>, <code>/var/www</code>).</p></li>\n<li><p>Example:</p><pre><code class=\"language-bash\">sudo rclone --config=/path/to/rclone.conf copy ...\n</code></pre>\n</li>\n</ul>\n<h3 id=\"wrong-config\"><strong>Wrong Config</strong></h3>\n<ul>\n<li><p>Ensure you‚Äôre using the correct <code>rclone.conf</code> that contains your <code>crypt</code> remote configuration.</p></li>\n<li><p>Example:</p><pre><code class=\"language-bash\">rclone --config=/root/.config/rclone/rclone.conf ...\n</code></pre>\n</li>\n</ul>\n<hr>\n<h2 id=\"6-best-practices-for-easier-recovery-in-the-future\"><strong>6. Best Practices for Easier Recovery in the Future</strong></h2>\n<ul>\n<li><strong>Keep snapshots</strong> ‚Äî Avoid relying only on a single mirrored backup. Snapshots protect against accidental overwrites.</li>\n<li><strong>Separate configs for root and user</strong> ‚Äî If backups are run with root, ensure the same config file is available when restoring.</li>\n<li><strong>Test recovery monthly</strong> ‚Äî Randomly restore a few files to verify the process works.</li>\n<li><strong>Document your backup structure</strong> ‚Äî Keep a map of where each directory is stored in the remote.</li>\n</ul>\n<hr>\n<h2 id=\"final-thoughts\"><strong>Final Thoughts</strong></h2>\n<p>Using <code>rclone crypt</code> for encrypted backups gives you <strong>security, privacy, and flexibility</strong> ‚Äî but recovery still requires you to know your backup layout and tools.\nBy following a structured search ‚Üí confirm ‚Üí restore workflow, you can confidently recover lost files without exposing sensitive data or disrupting production services.</p><p>And remember: <strong>backups are only as good as your ability to restore them</strong>. Test them before you actually need them.</p>",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
            ],
            "date_published": "2025-08-12T12:51:04+05:00",
            "date_modified": "2025-11-17T02:53:35+05:00"
        },
        {
            "id": "https://ehmi.se/blog/secure-your-backups-with-rclone-crypt-s3/",
            "url": "https://ehmi.se/blog/secure-your-backups-with-rclone-crypt-s3/",
            "title": "Secure Your Backups with Rclone Crypt + S3",
            "summary": "Overview Backing up critical data is essential, but encrypting that backup adds a much-needed layer of security. This guide will walk you through setting up automated, encrypted backups using rclone with the crypt backend and an S3-compatible storage like Tebi, Wasabi, or MinIO. Run: rclone&hellip;",
            "content_html": "<h2 id=\"overview\">Overview</h2>\n<p>Backing up critical data is essential, but encrypting that backup adds a much-needed layer of security. This guide will walk you through setting up automated, encrypted backups using <code>rclone</code> with the <code>crypt</code> backend and an S3-compatible storage like <strong>Tebi</strong>, <strong>Wasabi</strong>, or <strong>MinIO</strong>.</p><hr>\n<h2 id=\"‚úÖ-prerequisites\">‚úÖ Prerequisites</h2>\n<ul>\n<li><code>rclone</code> installed (<code>sudo apt install rclone</code>)</li>\n<li>Access to an S3-compatible storage service (e.g., Tebi)</li>\n<li>Linux user with permission to run backups</li>\n<li>A list of directories to back up (<code>/etc</code>, <code>/home</code>, <code>/var/www</code>, etc.)</li>\n</ul>\n<hr>\n<h2 id=\"üîß-step-1-configure-the-s3-remote\">üîß Step 1: Configure the S3 Remote</h2>\n<ol>\n<li><p>Run:</p><pre><code class=\"language-bash\">rclone config\n</code></pre>\n</li>\n<li><p>Select <code>n</code> to create a <strong>new remote</strong>.</p></li>\n<li><p>Name: <code>tebi-backup</code> (or any name you like)</p></li>\n<li><p>Select storage type: <code>s3</code></p></li>\n<li><p>Configure as follows:</p><ul>\n<li><strong>Provider</strong>: <code>Other</code></li>\n<li><strong>Access Key ID / Secret Access Key</strong>: As provided by your S3 host</li>\n<li><strong>Endpoint</strong>: <code>https://s3.tebi.io</code></li>\n<li><strong>Region / Location constraint</strong>: Leave blank or default</li>\n<li><strong>ACL</strong>: <code>private</code></li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2 id=\"üîê-step-2-create-the-encrypted-remote-crypt-layer\">üîê Step 2: Create the Encrypted Remote (Crypt Layer)</h2>\n<ol>\n<li><p>In the same <code>rclone config</code>, create a <strong>new remote</strong> (name it e.g., <code>tebi-crypt</code>)</p></li>\n<li><p>Storage type: <code>crypt</code></p></li>\n<li><p>When prompted for the remote, enter:</p><pre><code>tebi-backup:crypted-storage-01\n</code></pre>\n<p>Replace <code>crypted-storage-01</code> with your encrypted bucket name.</p></li>\n<li><p>Choose encryption mode:</p><ul>\n<li><strong>Filename encryption</strong>: <code>standard</code></li>\n<li><strong>Directory name encryption</strong>: <code>true</code></li>\n<li>Set a <strong>strong password</strong></li>\n<li>Leave salt password blank or enter a second one for added security</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2 id=\"üìÇ-step-3-backup-script\">üìÇ Step 3: Backup Script</h2>\n<p>Here‚Äôs an example bash script for encrypted backups:</p><pre><code class=\"language-bash\">#!/bin/bash\n\n# Variables\nREMOTE=&quot;tebi-crypt:backups&quot;\nLOG_FILE=&quot;/var/log/rclone-encrypted-backup.log&quot;\nTIMESTAMP=$(date &quot;+%Y-%m-%d_%H-%M&quot;)\n\n# Create log directory if it doesn&#39;t exist\nmkdir -p &quot;$(dirname &quot;$LOG_FILE&quot;)&quot;\n\n# Back up directories\nrclone -P sync /home &quot;$REMOTE/home-backup&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\nrclone -P sync /etc &quot;$REMOTE/etc-backup&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\nrclone -P sync /var/www &quot;$REMOTE/var-www-backup&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\nrclone -P sync /DATA &quot;$REMOTE/DATA-backup&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\n</code></pre>\n<hr>\n<h2 id=\"‚è∞-step-4-automate-with-cron\">‚è∞ Step 4: Automate with Cron</h2>\n<p>Edit the crontab:</p><pre><code class=\"language-bash\">sudo crontab -e\n</code></pre>\n<p>Add:</p><pre><code>30 2 * * * /usr/local/bin/backup-encrypted.sh\n</code></pre>\n<p>Ensure the script is executable:</p><pre><code class=\"language-bash\">chmod +x /usr/local/bin/backup-encrypted.sh\n</code></pre>\n<hr>\n<h2 id=\"üîç-step-5-verifying-backups\">üîç Step 5: Verifying Backups</h2>\n<p>To browse or retrieve files from the encrypted remote:</p><pre><code class=\"language-bash\">rclone ls tebi-crypt:backups/etc-backup\nrclone copy tebi-crypt:backups/home-backup ~/restore/home --progress\n</code></pre>\n<hr>\n<h2 id=\"üì¶-optional-mount-the-encrypted-remote\">üì¶ Optional: Mount the Encrypted Remote</h2>\n<p>To mount the encrypted bucket locally:</p><pre><code class=\"language-bash\">rclone mount tebi-crypt:backups /mnt/encrypted-backups --daemon\n</code></pre>\n<p>Install <code>fuse3</code> if needed:</p><pre><code class=\"language-bash\">sudo apt install fuse3\n</code></pre>\n<p>To auto-mount at boot, add to <code>rc.local</code> or systemd.</p><hr>\n<h2 id=\"üîê-why-use-rclone-crypt\">üîê Why Use Rclone Crypt?</h2>\n<ul>\n<li><strong>Zero-knowledge</strong>: Your cloud provider never sees your plaintext</li>\n<li><strong>Encrypt filenames + contents</strong></li>\n<li>Works with any backend (S3, Google Drive, etc.)</li>\n<li>Easy to integrate with automation</li>\n</ul>\n<hr>\n<h2 id=\"üßπ-tips\">üßπ Tips</h2>\n<ul>\n<li>Test restore periodically</li>\n<li>Rotate logs or archive monthly</li>\n<li>Store rclone config securely (<code>chmod 600 ~/.rclone.conf</code>)</li>\n<li>Backup your <code>rclone.conf</code> file!</li>\n</ul>\n",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
            ],
            "date_published": "2025-07-18T15:24:22+05:00",
            "date_modified": "2025-07-18T15:24:22+05:00"
        },
        {
            "id": "https://ehmi.se/blog/how-to-set-up-automated-server-backups-to-tebiio-with-rclone/",
            "url": "https://ehmi.se/blog/how-to-set-up-automated-server-backups-to-tebiio-with-rclone/",
            "title": "How to Set Up Automated Server Backups to Tebi.io with rclone",
            "summary": "This guide explains how to configure a secure, automated backup system that uploads essential directories (like /etc, /home, /var/www, /DATA) to Tebi.io‚Äôs S3-compatible object storage, using rclone. curl https://rclone.org/install.sh | sudo bash 2. Configure rclone for Tebi.io Run: rclone config Then follow the prompts: Choose:&hellip;",
            "content_html": "<p>This guide explains how to configure a secure, automated backup system that uploads essential directories (like <code>/etc</code>, <code>/home</code>, <code>/var/www</code>, <code>/DATA</code>) to <a href=\"https://tebi.io\">Tebi.io‚Äôs S3-compatible object storage</a>, using <code>rclone</code>.</p><hr>\n<h2 id=\"üîß-requirements\">üîß Requirements</h2>\n<ul>\n<li>A Linux server (Ubuntu/Debian/CentOS tested)</li>\n<li><code>rclone</code> installed (<code>v1.62+</code> recommended)</li>\n<li>A Tebi.io bucket + S3 credentials (access key, secret key, and endpoint)</li>\n<li>Root/sudo access</li>\n</ul>\n<hr>\n<h2 id=\"üõ†Ô∏è-step-by-step-setup\">üõ†Ô∏è Step-by-Step Setup</h2>\n<h3 id=\"1-install-rclone\">1. <strong>Install rclone</strong></h3>\n<pre><code class=\"language-bash\">curl https://rclone.org/install.sh | sudo bash\n</code></pre>\n<hr>\n<h3 id=\"2-configure-rclone-for-tebiio\">2. <strong>Configure rclone for Tebi.io</strong></h3>\n<p>Run:</p><pre><code class=\"language-bash\">rclone config\n</code></pre>\n<p>Then follow the prompts:</p><ol>\n<li><p>Choose: <code>n</code> for new remote</p></li>\n<li><p>Name it: <code>tebi-backup</code> (or anything you like)</p></li>\n<li><p>Choose storage type: <code>s3</code></p></li>\n<li><p>Provider: <code>Other</code></p></li>\n<li><p>Enter your:</p><ul>\n<li><code>access_key_id</code></li>\n<li><code>secret_access_key</code></li>\n<li><code>endpoint</code>: <code>https://s3.tebi.io</code></li>\n</ul>\n</li>\n<li><p>Region: Leave blank</p></li>\n<li><p>Location Constraint: Leave blank</p></li>\n<li><p>ACL: Choose <code>private</code></p></li>\n</ol>\n<p>When done, run <code>rclone listremotes</code> to verify:</p><pre><code class=\"language-bash\">tebi-backup:\n</code></pre>\n<hr>\n<h3 id=\"3-create-the-backup-script\">3. <strong>Create the Backup Script</strong></h3>\n<p>Create a new script:</p><pre><code class=\"language-bash\">sudo nano /usr/local/bin/tebi-backup.sh\n</code></pre>\n<p>Paste the following:</p><pre><code class=\"language-bash\">#!/bin/bash\n\nREMOTE=&quot;tebi-backup:your-bucket-name/backups&quot;\nDATE=$(date +%F)\nDAY=$(date +%u)\nLOG_FILE=&quot;/var/log/tebi-backup.log&quot;\n\necho &quot;========== Backup started at $(date) ==========&quot; &gt;&gt; &quot;$LOG_FILE&quot;\n\nrclone -P sync /home &quot;$REMOTE/home&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\nrclone -P sync /var/www &quot;$REMOTE/var-www&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\nrclone -P sync /DATA &quot;$REMOTE/DATA&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\nrclone -P sync /etc &quot;$REMOTE/etc&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\n\nif [ &quot;$DAY&quot; -eq 5 ]; then\n  SNAPSHOT_DIR=&quot;$REMOTE/etc-snapshots/$DATE&quot;\n  echo &quot;Weekly snapshot: /etc to $SNAPSHOT_DIR&quot; &gt;&gt; &quot;$LOG_FILE&quot;\n  rclone -P copy /etc &quot;$SNAPSHOT_DIR&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\n\n  echo &quot;Deleting old snapshots (&gt;30d)...&quot; &gt;&gt; &quot;$LOG_FILE&quot;\n  rclone lsd &quot;$REMOTE/etc-snapshots&quot; --max-age 720h |\n  awk &#39;{print $NF}&#39; |\n  while read -r folder; do\n    rclone purge &quot;$REMOTE/etc-snapshots/$folder&quot; &gt;&gt; &quot;$LOG_FILE&quot; 2&gt;&amp;1\n  done\nfi\n\necho &quot;========== Backup finished at $(date) ==========&quot; &gt;&gt; &quot;$LOG_FILE&quot;\n</code></pre>\n<p>Replace <code>your-bucket-name</code> with your actual bucket.</p><p>Then make the script executable:</p><pre><code class=\"language-bash\">sudo chmod +x /usr/local/bin/tebi-backup.sh\n</code></pre>\n<hr>\n<h3 id=\"4-automate-with-cron\">4. <strong>Automate with Cron</strong></h3>\n<p>Edit root‚Äôs crontab:</p><pre><code class=\"language-bash\">sudo crontab -e\n</code></pre>\n<p>Add this line to run backups daily at 2:30 AM:</p><pre><code class=\"language-bash\">30 2 * * * /usr/local/bin/tebi-backup.sh\n</code></pre>\n<hr>\n<h2 id=\"üìÇ-folder-structure-on-tebi\">üìÇ Folder Structure on Tebi</h2>\n<p>Your backups will be neatly organized like this:</p><pre><code>backups/\n‚îú‚îÄ‚îÄ home/\n‚îú‚îÄ‚îÄ var-www/\n‚îú‚îÄ‚îÄ DATA/\n‚îú‚îÄ‚îÄ etc/\n‚îî‚îÄ‚îÄ etc-snapshots/\n    ‚îú‚îÄ‚îÄ 2025-07-05/\n    ‚îú‚îÄ‚îÄ 2025-07-12/\n    ‚îî‚îÄ‚îÄ ...\n</code></pre>\n<hr>\n<h2 id=\"üß™-test-the-backup\">üß™ Test the Backup</h2>\n<p>Run manually to test:</p><pre><code class=\"language-bash\">sudo /usr/local/bin/tebi-backup.sh\n</code></pre>\n<p>Then check:</p><pre><code class=\"language-bash\">rclone lsf tebi-backup:your-bucket-name/backups/\n</code></pre>\n<hr>\n<h2 id=\"‚úÖ-best-practices\">‚úÖ Best Practices</h2>\n<ul>\n<li><strong>Restrict</strong> Tebi.io S3 credentials to a backup-only IAM role.</li>\n<li><strong>Rotate</strong> your credentials every 90 days.</li>\n<li><strong>Encrypt</strong> backups at rest (Tebi supports server-side encryption).</li>\n<li>Use <code>rclone crypt</code> if you want local encryption before upload.</li>\n</ul>\n",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
            ],
            "date_published": "2025-07-18T15:10:20+05:00",
            "date_modified": "2025-07-18T15:10:20+05:00"
        },
        {
            "id": "https://ehmi.se/blog/migrating-from-nginx-proxy-manager-to-traefik-part-2/",
            "url": "https://ehmi.se/blog/migrating-from-nginx-proxy-manager-to-traefik-part-2/",
            "title": "üõ†Ô∏è Migrating from Nginx Proxy Manager to Traefik ‚Äì Part 2",
            "summary": "üåÄ Traefik Comes Online Once Traefik was set up, I configured it with the following key features in the traefik.yml: entryPoints: web: address: &quot;:80&quot; websecure: address: &quot;:443&quot; providers: docker: exposedByDefault: false file: directory: /etc/traefik/dynamic watch: true certificatesResolvers: cloudflare: acme: dnsChallenge: provider: cloudflare email: example@example.com storage:&hellip;",
            "content_html": "<h3 id=\"üåÄ-traefik-comes-online\">üåÄ Traefik Comes Online</h3>\n<p>Once Traefik was set up, I configured it with the following key features in the <code>traefik.yml</code>:</p><pre><code class=\"language-yaml\">entryPoints:\n  web:\n    address: &quot;:80&quot;\n  websecure:\n    address: &quot;:443&quot;\n\nproviders:\n  docker:\n    exposedByDefault: false\n  file:\n    directory: /etc/traefik/dynamic\n    watch: true\n\ncertificatesResolvers:\n  cloudflare:\n    acme:\n      dnsChallenge:\n        provider: cloudflare\n        email: example@example.com\n        storage: /letsencrypt/acme.json\n</code></pre>\n<p>This set the stage for dynamic config files and DNS-01 validation via Cloudflare.</p><hr>\n<h3 id=\"üß±-dynamic-configs-for-each-app\">üß± Dynamic Configs for Each App</h3>\n<p>Instead of using Compose labels like Nginx Proxy Manager, I created <code>.yml</code> files in <code>/etc/traefik/dynamic/</code> for each service. Here are some examples:</p><h4 id=\"üîå-wolyml\">üîå <code>wol.yml</code></h4>\n<pre><code class=\"language-yaml\">http:\n  routers:\n    wol:\n      rule: &quot;Host(`wol.example.site`)&quot;\n      service: wol-svc\n      entryPoints:\n        - websecure\n      tls:\n        certResolver: cloudflare\n\n  services:\n    wol-svc:\n      loadBalancer:\n        servers:\n          - url: &quot;http://host.docker.internal:9002&quot;\n</code></pre>\n<h4 id=\"üì°-tenda-apiyml-no-https\">üì° <code>tenda-api.yml</code> (No HTTPS)</h4>\n<pre><code class=\"language-yaml\">http:\n  routers:\n    tenda:\n      rule: &quot;Host(`api.cloud.tenda.com.cn`)&quot;\n      service: tenda-svc\n      entryPoints:\n        - web\n\n  services:\n    tenda-svc:\n      loadBalancer:\n        servers:\n          - url: &quot;http://host.docker.internal:9001&quot;\n</code></pre>\n<blockquote>\n<p>‚úÖ Dynamic configs helped manage services independently and avoided bloating the Docker Compose.</p></blockquote>\n<hr>\n<h3 id=\"üîê-blocking-external-access-to-certain-ports\">üîê Blocking External Access to Certain Ports</h3>\n<p>Instead of using a firewall to block apps like Pi-hole on ports like 53/82/85, I used <strong>binding tricks</strong>:</p><h4 id=\"for-apache-apps\">For Apache apps:</h4>\n<p>You can bind internal apps to localhost or internal IPs in Docker Compose or Apache:</p><pre><code class=\"language-apache\">Listen 127.0.0.1:82\n</code></pre>\n<p>Or Docker Compose:</p><pre><code class=\"language-yaml\">ports:\n  - &quot;127.0.0.1:85:85&quot;\n</code></pre>\n<p>That way, the service is inaccessible from outside but usable internally and by Traefik.</p><hr>\n<h3 id=\"üì¶-internal-dns-proxy-doh\">üì¶ Internal DNS Proxy (DoH)</h3>\n<p>I also had a <code>dnsproxy</code> DoH service that exposed port <code>5052</code>. To hide it from public access, I updated the systemd unit:</p><pre><code class=\"language-ini\">ExecStart=/opt/dnsproxy/dnsproxy \\\n  -u https://cloudflare-gateway.com/dns-query \\\n  -b 1.1.1.1:53 -l 127.0.0.1 -p 5052\n</code></pre>\n<p>Binding to <code>127.0.0.1</code> ensures it can‚Äôt be reached externally, only locally.</p><hr>\n<h3 id=\"üìâ-what-are-entrypoints-like-8080\">üìâ What Are EntryPoints like <code>:8080</code>?</h3>\n<p>By default, Traefik exposes a dashboard on port <code>8080</code>. I didn‚Äôt want it public, so I either:</p><ul>\n<li>Disabled the dashboard completely.</li>\n<li>Or protected it via IP whitelisting or basic auth using middleware.</li>\n</ul>\n<hr>\n<h3 id=\"üìä-metrics-logs--tracing\">üìä Metrics, Logs &amp; Tracing</h3>\n<p>Traefik supports features like:</p><ul>\n<li><strong>Access logs</strong></li>\n<li><strong>Prometheus metrics</strong></li>\n<li><strong>Jaeger tracing</strong></li>\n</ul>\n<p>To enable access logs in <code>traefik.yml</code>:</p><pre><code class=\"language-yaml\">accessLog: {}\n</code></pre>\n<p>To enable Prometheus:</p><pre><code class=\"language-yaml\">metrics:\n  prometheus: {}\n</code></pre>\n<p>And for tracing:</p><pre><code class=\"language-yaml\">tracing:\n  jaeger:\n    samplingServerURL: http://jaeger:5778/sampling\n</code></pre>\n<blockquote>\n<p>These helped monitor and debug routing and cert issues in real time.</p></blockquote>\n<hr>\n<h3 id=\"üîç-final-notes\">üîç Final Notes</h3>\n<p>Some lessons learned:</p><ul>\n<li><strong>Don‚Äôt use <code>127.0.0.1</code> from inside containers</strong> to access host apps. Use <code>host.docker.internal</code> or a shared network.</li>\n<li><strong>ACME timeouts</strong> were mostly DNS issues or misconfigured firewalls.</li>\n<li><strong>Exposing internal-only services publicly</strong> is easily preventable with proper Docker port binding (<code>127.0.0.1:port</code>).</li>\n</ul>\n",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
            ],
            "date_published": "2025-07-01T15:16:54+05:00",
            "date_modified": "2025-07-01T15:16:54+05:00"
        },
        {
            "id": "https://ehmi.se/blog/homelab-reverse-proxy-migration-part-1/",
            "url": "https://ehmi.se/blog/homelab-reverse-proxy-migration-part-1/",
            "title": "Homelab Reverse Proxy Migration ‚Äî Part 1",
            "summary": "From Nginx Proxy Manager to Traefik: Hardening and Streamlining Services üì¶ Introduction This guide documents the process of migrating from Nginx Proxy Manager (NPM) to Traefik v2, while self-hosting several internal apps like: This migration is aimed at: Nginx Proxy Manager is a great GUI-based&hellip;",
            "content_html": "<h2 id=\"from-nginx-proxy-manager-to-traefik-hardening-and-streamlining-services\">From Nginx Proxy Manager to Traefik: Hardening and Streamlining Services</h2>\n<hr>\n<h2 id=\"üì¶-introduction\">üì¶ Introduction</h2>\n<p>This guide documents the process of migrating from <strong>Nginx Proxy Manager (NPM)</strong> to <strong>Traefik v2</strong>, while self-hosting several internal apps like:</p><ul>\n<li><strong>Pi-hole</strong> (network-level DNS filtering)</li>\n<li><strong>Vaultwarden</strong> (Bitwarden-compatible password manager)</li>\n<li>Static sites served via <strong>Apache</strong></li>\n<li>Other services like WOL dashboards, API endpoints, and file managers</li>\n</ul>\n<p>This migration is aimed at:</p><ul>\n<li>Improving <strong>TLS automation</strong> with Let‚Äôs Encrypt</li>\n<li>Enabling <strong>fine-grained routing</strong></li>\n<li>Reducing open ports and <strong>tightening external access</strong></li>\n</ul>\n<hr>\n<h2 id=\"üîÅ-why-migrate-from-npm-to-traefik\">üîÅ Why Migrate from NPM to Traefik?</h2>\n<p>Nginx Proxy Manager is a great GUI-based solution but has limitations when:</p><ul>\n<li>Running <strong>multiple services on different ports</strong></li>\n<li>Needing <strong>automatic wildcard certificates</strong></li>\n<li>Enforcing <strong>advanced routing or middlewares</strong></li>\n<li>Wanting <strong>CLI/scriptable configuration</strong></li>\n</ul>\n<p><strong>Traefik</strong> offers:</p><ul>\n<li>Native <strong>Docker integration</strong></li>\n<li>Automatic <strong>Let‚Äôs Encrypt TLS</strong></li>\n<li>Fine control over access and routing</li>\n<li>Better <strong>performance</strong> and flexibility</li>\n</ul>\n<hr>\n<h2 id=\"üß±-architecture-overview\">üß± Architecture Overview</h2>\n<p>Here‚Äôs the general layout of the stack:</p><table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Purpose</th>\n<th>Notes</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>Apache2</strong></td>\n<td>Hosts legacy apps on non-standard ports</td>\n<td>e.g., 9001, 9002, 85</td>\n</tr>\n<tr>\n<td><strong>Traefik v2</strong></td>\n<td>Reverse proxy and TLS termination</td>\n<td>Replaces Nginx Proxy Manager</td>\n</tr>\n<tr>\n<td><strong>Pi-hole</strong></td>\n<td>Network-wide ad/DNS blocking</td>\n<td>Forwarded to port 53 internally</td>\n</tr>\n<tr>\n<td><strong>Vaultwarden</strong></td>\n<td>Password manager</td>\n<td>Secured via HTTPS proxying</td>\n</tr>\n<tr>\n<td><strong>Docker</strong></td>\n<td>Containerized services</td>\n<td>Shared network across services</td>\n</tr>\n</tbody></table>\n<hr>\n<h2 id=\"üèóÔ∏è-apache-config-non-standard-ports\">üèóÔ∏è Apache Config (Non-Standard Ports)</h2>\n<p>You had several legacy apps hosted via Apache on specific ports like:</p><pre><code class=\"language-apache\">&lt;VirtualHost *:9001&gt;\n  DocumentRoot /var/www/hear\n&lt;/VirtualHost&gt;\n\n&lt;VirtualHost *:9002&gt;\n  DocumentRoot /var/www/wol\n&lt;/VirtualHost&gt;\n\n&lt;VirtualHost *:85&gt;\n  ServerName file.domain.local\n  DocumentRoot /var/www/html/tinyfilemanager\n&lt;/VirtualHost&gt;\n</code></pre>\n<hr>\n<h2 id=\"‚ùå-problems-with-exposed-ports\">‚ùå Problems with Exposed Ports</h2>\n<p>Some apps were exposed on ports like <code>:85</code>, <code>:82</code>, <code>:9001</code>, etc. which could be accessed externally unless firewalled.</p><p>To secure them <strong>without using iptables or UFW</strong>, we moved to this trick:</p><pre><code class=\"language-apache\">&lt;VirtualHost 127.0.0.1:85&gt;\n</code></pre>\n<p>Binding Apache to <strong>127.0.0.1</strong> ensures only localhost (and Traefik) can access those services. Docker containers can‚Äôt hit <code>127.0.0.1</code> of the host directly, so these are effectively isolated unless routed.</p><hr>\n<h2 id=\"üîê-traefik-now-handles-all-public-access\">üîê Traefik Now Handles All Public Access</h2>\n<p>Traefik is set up with:</p><pre><code class=\"language-yaml\">entryPoints:\n  web:\n    address: &quot;:80&quot;\n  websecure:\n    address: &quot;:443&quot;\n  traefik:\n    address: &quot;:8080&quot;\n</code></pre>\n<p>Any apps exposed via Traefik now get:</p><ul>\n<li>Automatic TLS via Let‚Äôs Encrypt</li>\n<li>Pretty subdomains (e.g., <code>vault.domain.local</code>)</li>\n<li>Protected routing (optionally via middleware/auth)</li>\n</ul>\n<p>You had to stop Apache from binding to <code>:80</code>/<code>:443</code> to prevent port conflicts:</p><pre><code class=\"language-bash\">sudo systemctl stop apache2\n</code></pre>\n<p>Now Apache only handles internal routes; Traefik handles external.</p><hr>\n<h2 id=\"üìä-about-traefiks-port-8080\">üìä About Traefik‚Äôs Port 8080</h2>\n<p>Port <code>:8080</code> is for the <strong>Traefik dashboard</strong>, useful for debugging during setup. You can restrict it later.</p><pre><code class=\"language-yaml\">api:\n  dashboard: true\n\nentryPoints:\n  traefik:\n    address: &quot;:8080&quot;\n</code></pre>\n<p>To disable it in production, set <code>api.dashboard: false</code> and remove port 8080 from published ports in Docker.</p><hr>\n<h2 id=\"üöß-limitation-docker-containers-cant-access-hosts-127001\">üöß Limitation: Docker Containers Can‚Äôt Access Host‚Äôs 127.0.0.1</h2>\n<p>You noticed this error inside a container:</p><pre><code class=\"language-bash\">wget http://127.0.0.1:85\n# ‚Üí connection refused\n</code></pre>\n<p>That‚Äôs expected ‚Äî <code>127.0.0.1</code> inside Docker refers to the container itself, not the host.</p><p>To let Docker containers access the host:</p><ul>\n<li>Use the host‚Äôs internal bridge IP (e.g., <code>172.17.0.1</code>)</li>\n<li>Or on Linux, use <code>extra_hosts</code> in Docker Compose to map <code>host.docker.internal</code></li>\n</ul>\n<pre><code class=\"language-yaml\">extra_hosts:\n  - &quot;host.docker.internal:172.17.0.1&quot;\n</code></pre>\n<hr>\n<h2 id=\"üåê-dns--pi-hole-on-port-53\">üåê DNS &amp; Pi-hole on Port 53</h2>\n<p>To make Pi-hole handle DNS for your network:</p><h3 id=\"option-a-use-dockers-published-port\">Option A: Use Docker‚Äôs published port</h3>\n<p>If Pi-hole is containerized:</p><pre><code class=\"language-yaml\">ports:\n  - &quot;53:53/tcp&quot;\n  - &quot;53:53/udp&quot;\n</code></pre>\n<h3 id=\"option-b-forward-using-iptables-if-dns-needs-to-stay-centralized\">Option B: Forward using iptables (if DNS needs to stay centralized)</h3>\n<pre><code class=\"language-bash\">sudo iptables -t nat -A PREROUTING -p udp --dport 53 -j DNAT --to-destination &lt;PIHOLE_IP&gt;:53\n</code></pre>\n<hr>\n<h2 id=\"üß™-next-steps\">üß™ Next Steps</h2>\n<p>You‚Äôre now at the halfway point of your migration. What‚Äôs working so far:</p><p>‚úÖ Traefik is running and binds to ports 80/443\n‚úÖ Apache is hidden from the outside\n‚úÖ TLS routing via Traefik is active\n‚úÖ Docker containers are network-isolated\n‚úÖ Pi-hole DNS is optionally routed</p><hr>\n<h2 id=\"üìù-coming-up-in-part-2\">üìù Coming Up in Part 2</h2>\n<p>In the next section, we‚Äôll cover:</p><ul>\n<li>üìÇ Dynamic Traefik configuration (for Vaultwarden, Pi-hole, WOL, etc.)</li>\n<li>üîí Basic auth / IP filtering middlewares</li>\n<li>üßº Access logs, metrics, tracing</li>\n<li>üß≠ Organizing the Traefik dashboard</li>\n</ul>\n<p>Ready for Part 2?</p>",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
            ],
            "date_published": "2025-06-15T09:15:34+05:00",
            "date_modified": "2025-06-15T09:23:45+05:00"
        },
        {
            "id": "https://ehmi.se/blog/how-to-use-vim-a-guide-for-dummies/",
            "url": "https://ehmi.se/blog/how-to-use-vim-a-guide-for-dummies/",
            "title": "How to Use Vim: A Guide for Dummies",
            "summary": "Hey there! If you‚Äôre new to Vim like me and feeling a bit lost, don‚Äôt worry i am too ‚Äîthis guide is written just for us :3. Vim is a super powerful text editor, but it‚Äôs not like the usual ones you might be used&hellip;",
            "content_html": "<p>Hey there! If you‚Äôre new to Vim like me and feeling a bit lost, don‚Äôt worry i am too ‚Äîthis guide is written just for us :3. Vim is a super powerful text editor, but it‚Äôs not like the usual ones you might be used to (like Notepad or Word). It‚Äôs got a bit of a learning curve, but once you get the hang of it, you‚Äôll feel like a text-editing wizard. Let‚Äôs break it down step by step, and I‚Äôll keep it simple. Plus, there‚Äôs a handy cheat sheet at the end to keep you on track!</p><h2 id=\"what-is-vim\">What is Vim?</h2>\n<p>Vim stands for ‚ÄúVi Improved.‚Äù It‚Äôs a text editor that‚Äôs been around forever and is loved by people who code or work with text a lot. Why? Because it‚Äôs fast and you don‚Äôt need a mouse‚Äîeverything‚Äôs done with the keyboard. That might sound weird at first, but stick with me‚Äîit‚Äôs worth it!</p><h2 id=\"the-big-idea-vim-modes\">The Big Idea: Vim Modes</h2>\n<p>Here‚Äôs the trickiest part about Vim: it has different ‚Äúmodes.‚Äù Think of them like different hats Vim wears depending on what you want to do. You‚Äôll switch between these modes all the time, so let‚Äôs meet them:</p><ul>\n<li><strong>Normal Mode</strong>: This is where Vim starts. You use it to move around and give commands (like ‚Äúdelete this‚Äù or ‚Äúcopy that‚Äù).</li>\n<li><strong>Insert Mode</strong>: This is where you type stuff, like writing a sentence.</li>\n<li><strong>Visual Mode</strong>: This is for selecting chunks of text (like highlighting with a mouse, but cooler).</li>\n<li><strong>Command-Line Mode</strong>: This is for bigger commands, like saving your work or searching.</li>\n</ul>\n<p>Don‚Äôt panic‚Äîwe‚Äôll learn how to switch between them next!</p><h2 id=\"step-1-opening-and-closing-vim\">Step 1: Opening and Closing Vim</h2>\n<p>Let‚Äôs get started:</p><ul>\n<li><strong>Open Vim</strong>: Open your terminal (that black box where you type commands). Type <code>vim</code> and hit Enter. Want to edit a file? Type <code>vim myfile.txt</code>.</li>\n<li><strong>Close Vim</strong>: This trips everyone up at first. Press <code>Esc</code> (to make sure you‚Äôre in Normal Mode), then type <code>:q</code> and hit Enter. If you‚Äôve changed something and Vim won‚Äôt let you quit, type <code>:q!</code> to force it to close without saving.</li>\n</ul>\n<h2 id=\"step-2-switching-modes\">Step 2: Switching Modes</h2>\n<p>Here‚Äôs how to move between those modes:</p><ul>\n<li><strong>Normal to Insert</strong>: Press <code>i</code>. You‚Äôll see ‚Äú‚Äì INSERT ‚Äì‚Äù at the bottom. Now you can type!</li>\n<li><strong>Insert to Normal</strong>: Press <code>Esc</code>. Back to command central.</li>\n<li><strong>Normal to Visual</strong>: Press <code>v</code>. Now you can select text with arrow keys or other movement keys.</li>\n<li><strong>Normal to Command-Line</strong>: Press <code>:</code>. You‚Äôll see a colon at the bottom where you can type commands.</li>\n</ul>\n<h2 id=\"step-3-moving-around-normal-mode\">Step 3: Moving Around (Normal Mode)</h2>\n<p>In Normal Mode, forget your arrow keys for a sec‚Äîtry these:</p><ul>\n<li><code>h</code>: Move left</li>\n<li><code>j</code>: Move down</li>\n<li><code>k</code>: Move up</li>\n<li><code>l</code>: Move right</li>\n</ul>\n<p>Want to zip around faster?</p><ul>\n<li><code>w</code>: Jump to the next word</li>\n<li><code>b</code>: Jump back to the previous word</li>\n<li><code>0</code>: Go to the start of the line</li>\n<li><code>$</code>: Go to the end of the line</li>\n</ul>\n<h2 id=\"step-4-typing-stuff\">Step 4: Typing Stuff</h2>\n<p>To write anything:</p><ol>\n<li>Get into Normal Mode (press <code>Esc</code> if you‚Äôre not sure).</li>\n<li>Press <code>i</code> to enter Insert Mode.</li>\n<li>Type whatever you want.</li>\n<li>Press <code>Esc</code> to go back to Normal Mode.</li>\n</ol>\n<h2 id=\"step-5-editing-basics\">Step 5: Editing Basics</h2>\n<ul>\n<li><strong>Delete a letter</strong>: In Normal Mode, put your cursor on the letter and press <code>x</code>.</li>\n<li><strong>Delete a line</strong>: Press <code>dd</code>.</li>\n<li><strong>Delete a word</strong>: Put your cursor at the start of the word and press <code>dw</code>.</li>\n</ul>\n<h2 id=\"step-6-copy-and-paste\">Step 6: Copy and Paste</h2>\n<ul>\n<li><strong>Copy a line</strong>: In Normal Mode, press <code>yy</code>.</li>\n<li><strong>Copy a word</strong>: Cursor at the start of the word, press <code>yw</code>.</li>\n<li><strong>Paste</strong>: Press <code>p</code>. It‚Äôll paste after your cursor.</li>\n</ul>\n<h2 id=\"step-7-oops-undo-and-redo\">Step 7: Oops! Undo and Redo</h2>\n<ul>\n<li><strong>Undo</strong>: Press <code>u</code> in Normal Mode. Made a mistake? Fixed!</li>\n<li><strong>Redo</strong>: Press <code>Ctrl + r</code> to bring it back.</li>\n</ul>\n<h2 id=\"step-8-saving-and-quitting\">Step 8: Saving and Quitting</h2>\n<p>To save your masterpiece:</p><ol>\n<li>Press <code>:</code> to enter Command-Line Mode.</li>\n<li>Type <code>w</code> and hit Enter (short for ‚Äúwrite‚Äù).</li>\n<li>Want to save and quit? Type <code>:wq</code> and Enter.</li>\n<li>Changed your mind and want to ditch it? Type <code>:q!</code> and Enter.</li>\n</ol>\n<h2 id=\"step-9-finding-stuff\">Step 9: Finding Stuff</h2>\n<p>Need to find a word?</p><ol>\n<li>In Normal Mode, press <code>/</code>.</li>\n<li>Type the word (like <code>/hello</code>) and hit Enter.</li>\n<li>Press <code>n</code> to jump to the next one, or <code>N</code> to go back.</li>\n</ol>\n<h2 id=\"step-10-selecting-text-visual-mode\">Step 10: Selecting Text (Visual Mode)</h2>\n<ul>\n<li>Press <code>v</code> in Normal Mode to start selecting.</li>\n<li>Move around with <code>h</code>, <code>j</code>, <code>k</code>, <code>l</code> to highlight text.</li>\n<li>Then:<ul>\n<li><code>y</code> to copy it.</li>\n<li><code>d</code> to delete (cut) it.</li>\n<li><code>p</code> to paste over it.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"tips-to-survive-vim\">Tips to Survive Vim</h2>\n<ul>\n<li>Practice a little every day‚Äîit‚Äôs like learning to ride a bike.</li>\n<li>Start small, like editing a grocery list.</li>\n<li>Keep the cheat sheet below close by!</li>\n</ul>\n<h1 id=\"vim-cheat-sheet\">Vim Cheat Sheet</h1>\n<p>Here‚Äôs your quick guide to the basics:</p><table>\n<thead>\n<tr>\n<th>What You Want</th>\n<th>How to Do It</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Start typing</td>\n<td><code>i</code></td>\n</tr>\n<tr>\n<td>Stop typing</td>\n<td><code>Esc</code></td>\n</tr>\n<tr>\n<td>Save</td>\n<td><code>:w</code></td>\n</tr>\n<tr>\n<td>Quit</td>\n<td><code>:q</code></td>\n</tr>\n<tr>\n<td>Save and quit</td>\n<td><code>:wq</code></td>\n</tr>\n<tr>\n<td>Quit without saving</td>\n<td><code>:q!</code></td>\n</tr>\n<tr>\n<td>Undo</td>\n<td><code>u</code></td>\n</tr>\n<tr>\n<td>Redo</td>\n<td><code>Ctrl + r</code></td>\n</tr>\n<tr>\n<td>Delete a letter</td>\n<td><code>x</code></td>\n</tr>\n<tr>\n<td>Delete a line</td>\n<td><code>dd</code></td>\n</tr>\n<tr>\n<td>Delete a word</td>\n<td><code>dw</code></td>\n</tr>\n<tr>\n<td>Copy a line</td>\n<td><code>yy</code></td>\n</tr>\n<tr>\n<td>Copy a word</td>\n<td><code>yw</code></td>\n</tr>\n<tr>\n<td>Paste</td>\n<td><code>p</code></td>\n</tr>\n<tr>\n<td>Search for something</td>\n<td><code>/something</code></td>\n</tr>\n<tr>\n<td>Next search result</td>\n<td><code>n</code></td>\n</tr>\n<tr>\n<td>Previous search result</td>\n<td><code>N</code></td>\n</tr>\n<tr>\n<td>Next word</td>\n<td><code>w</code></td>\n</tr>\n<tr>\n<td>Previous word</td>\n<td><code>b</code></td>\n</tr>\n<tr>\n<td>Start of line</td>\n<td><code>0</code></td>\n</tr>\n<tr>\n<td>End of line</td>\n<td><code>$</code></td>\n</tr>\n</tbody></table>\n<p>You‚Äôve got this! Vim might feel strange at first, but soon you‚Äôll be zooming around your files like a pro. Happy editing!</p><h4 id=\"update\">Update</h4>\n<p>here is a full video guide by mental outlaw showing each and every aspect of vim <a href=\"https://www.youtube.com/watch?v=jyhYW0qZ6oA&list=PL3cu45aM3C2DJVGfCjSBB1yD9YkC7q27-\">YouTube Playlist Link</a></p>",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
            ],
            "date_published": "2025-05-07T19:30:24+05:00",
            "date_modified": "2025-05-07T19:30:24+05:00"
        },
        {
            "id": "https://ehmi.se/blog/gpg-for-beginners-sign-encrypt-and-verify-like-a-pro/",
            "url": "https://ehmi.se/blog/gpg-for-beginners-sign-encrypt-and-verify-like-a-pro/",
            "title": "GPG for Beginners: Sign, Encrypt, and Verify Like a Pro",
            "summary": "You‚Äôve probably seen this in hacker movies or privacy tools: -----BEGIN PGP SIGNED MESSAGE----- That‚Äôs GPG (aka PGP). It‚Äôs real cryptography that you can use today ‚Äî to sign, encrypt, and verify messages like a cybersecurity pro. Let‚Äôs jump in. Open your terminal and type:&hellip;",
            "content_html": "<p>You‚Äôve probably seen this in hacker movies or privacy tools:</p><pre><code>-----BEGIN PGP SIGNED MESSAGE-----\n</code></pre>\n<p>That‚Äôs GPG (aka PGP). It‚Äôs <strong>real cryptography</strong> that you can use today ‚Äî to <strong>sign, encrypt, and verify</strong> messages like a cybersecurity pro.</p><p>Let‚Äôs jump in.</p><hr>\n<h2 id=\"üéØ-step-1-generate-your-gpg-key-pair\">üéØ Step 1: Generate Your GPG Key Pair</h2>\n<p>Open your terminal and type:</p><pre><code class=\"language-bash\">gpg --full-generate-key\n</code></pre>\n<p>When prompted:</p><ul>\n<li>Select <code>RSA and RSA</code> (default)</li>\n<li>Choose 4096 bits</li>\n<li>Set an expiration (or 0 for none)</li>\n<li>Enter your <strong>name</strong> and <strong>email</strong></li>\n<li>Create a strong passphrase (you‚Äôll need this to unlock your private key)</li>\n</ul>\n<p>Done. You now have:</p><ul>\n<li>A <strong>private key</strong> (keep this safe!)</li>\n<li>A <strong>public key</strong> (share it with the world)</li>\n</ul>\n<hr>\n<h2 id=\"üïµÔ∏è‚ôÇÔ∏è-step-2-sign-a-message-prove-you-wrote-it\">üïµÔ∏è‚Äç‚ôÇÔ∏è Step 2: Sign a Message (Prove You Wrote It)</h2>\n<p>Create a simple file:</p><pre><code class=\"language-bash\">echo &quot;This is a top-secret message&quot; &gt; message.txt\n</code></pre>\n<p>Now sign it:</p><pre><code class=\"language-bash\">gpg --clearsign message.txt\n</code></pre>\n<p>You‚Äôll get <code>message.txt.asc</code> ‚Äî a signed version readable by anyone.</p><hr>\n<h2 id=\"üß™-step-3-verify-a-signed-message\">üß™ Step 3: Verify a Signed Message</h2>\n<p>Let‚Äôs say someone sends you a <code>.asc</code> file. To verify it:</p><pre><code class=\"language-bash\">gpg --verify message.txt.asc\n</code></pre>\n<p>If you have their <strong>public key</strong>, GPG will tell you if the signature is valid.</p><hr>\n<h2 id=\"üîê-step-4-encrypt-a-message-only-receiver-can-read-it\">üîê Step 4: Encrypt a Message (Only Receiver Can Read It)</h2>\n<p>You want to send someone a private file.</p><p>First, import their public key:</p><pre><code class=\"language-bash\">gpg --import their-public-key.asc\n</code></pre>\n<p>Then encrypt:</p><pre><code class=\"language-bash\">gpg --encrypt --recipient their@email.com secret.txt\n</code></pre>\n<p>It outputs <code>secret.txt.gpg</code>, only readable by the recipient‚Äôs private key.</p><hr>\n<h2 id=\"üîì-step-5-decrypt-a-message-sent-to-you\">üîì Step 5: Decrypt a Message (Sent to You)</h2>\n<p>If someone sent you an encrypted file:</p><pre><code class=\"language-bash\">gpg --decrypt secret.txt.gpg\n</code></pre>\n<p>You‚Äôll be prompted for your passphrase. Then boom ‚Äî message decrypted.</p><hr>\n<h2 id=\"üåç-step-6-share-your-public-key\">üåç Step 6: Share Your Public Key</h2>\n<p>Want others to verify your signatures or send you encrypted messages?</p><p>Export your key:</p><pre><code class=\"language-bash\">gpg --armor --export your@email.com &gt; mykey.asc\n</code></pre>\n<p>Now send that file, or upload it to a public keyserver:</p><pre><code class=\"language-bash\">gpg --keyserver hkps://keys.openpgp.org --send-keys YOUR_KEY_ID\n</code></pre>\n<p>To get your key ID:</p><pre><code class=\"language-bash\">gpg --list-keys\n</code></pre>\n<hr>\n<h2 id=\"üß†-real-world-example-signing-a-statement\">üß† Real-World Example: Signing a Statement</h2>\n<p>Let‚Äôs say you publish this:</p><pre><code>I stand by this message 100%.\n</code></pre>\n<p>You sign it with GPG. Anyone can now <strong>verify</strong> that it really came from you and hasn‚Äôt been altered.</p><p>This is <strong>trust without needing a website or platform</strong>. Pure cryptography.</p><hr>\n<h2 id=\"üßº-clean-up-see-and-manage-your-keys\">üßº Clean Up: See and Manage Your Keys</h2>\n<p>List your keys:</p><pre><code class=\"language-bash\">gpg --list-keys\n</code></pre>\n<p>Delete a key (be careful!):</p><pre><code class=\"language-bash\">gpg --delete-secret-and-public-key your@email.com\n</code></pre>\n<hr>\n<h2 id=\"üí°-final-thoughts\">üí° Final Thoughts</h2>\n<p>Using GPG isn‚Äôt about looking cool ‚Äî it‚Äôs about <strong>owning your identity</strong> in a world of phishing and fake messages.</p><ul>\n<li>‚úÖ Signing proves ‚ÄúI wrote this.‚Äù</li>\n<li>‚úÖ Encrypting ensures ‚ÄúOnly you can read this.‚Äù</li>\n<li>‚úÖ Verifying protects you from lies.</li>\n</ul>\n<p>Get comfortable with these basics, and you‚Äôll be ready for secure comms like a professional.</p>",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
            ],
            "date_published": "2025-05-07T09:15:00+05:00",
            "date_modified": "2025-05-07T09:15:00+05:00"
        },
        {
            "id": "https://ehmi.se/blog/fixing-ssh-login-errors-due-to-improper-home-directory-permissions/",
            "url": "https://ehmi.se/blog/fixing-ssh-login-errors-due-to-improper-home-directory-permissions/",
            "title": "Fixing SSH Login Errors Due to Improper Home Directory Permissions",
            "summary": "When configuring SSH access for a user on a Linux system, one common issue that can block login attempts is improper file or directory permissions. A real-world example of this involves the error: Authentication refused: bad ownership or modes for directory /home/username This error typically&hellip;",
            "content_html": "<p>When configuring SSH access for a user on a Linux system, one common issue that can block login attempts is improper file or directory permissions. A real-world example of this involves the error:</p><pre><code>Authentication refused: bad ownership or modes for directory /home/username\n</code></pre>\n<p>This error typically occurs when the SSH daemon (<code>sshd</code>) detects that the user‚Äôs home directory permissions are too permissive, which is considered a security risk. In this case, the SSH server rejects the login attempt even if the credentials or SSH keys are correct.</p><h3 id=\"understanding-the-problem\">Understanding the Problem</h3>\n<p>The SSH daemon is configured to reject connections if the user‚Äôs home directory or <code>.ssh</code> directory is writable by group or others. This protects against unauthorized access or tampering of sensitive files such as <code>authorized_keys</code>.</p><p>In the case encountered, the user‚Äôs home directory had overly permissive ownership and permissions on files such as:</p><ul>\n<li>Files owned by <code>root</code> instead of the user.</li>\n<li>Files with <code>777</code> or <code>766</code> permissions, making them writable by group and others.</li>\n<li>A <code>.ssh</code> directory or <code>authorized_keys</code> file with insecure permissions.</li>\n</ul>\n<h3 id=\"solution\">Solution</h3>\n<p>To resolve the issue, the following steps were taken:</p><ol>\n<li><p><strong>Corrected ownership</strong> of the user‚Äôs home directory and its contents:</p><pre><code class=\"language-bash\">sudo chown -R username:username /home/username\n</code></pre>\n</li>\n<li><p><strong>Set the proper permissions</strong> for the home and <code>.ssh</code> directories:</p><pre><code class=\"language-bash\">chmod 700 /home/username\nchmod 700 /home/username/.ssh\nchmod 600 /home/username/.ssh/authorized_keys\n</code></pre>\n</li>\n<li><p><strong>Restarted the SSH service</strong> to apply the changes:</p><pre><code class=\"language-bash\">sudo systemctl restart ssh\n</code></pre>\n</li>\n</ol>\n<p>Once these corrections were made, SSH logins via key-based authentication succeeded without further issues.</p><h3 id=\"best-practices\">Best Practices</h3>\n<ul>\n<li>Always ensure <code>.ssh</code> directories and <code>authorized_keys</code> files are owned by the user and not writable by others.</li>\n<li>Avoid placing files with <code>root</code> ownership or world-writeable permissions inside the user‚Äôs home directory when SSH access is needed.</li>\n<li>Use <code>journalctl -u ssh</code> or review <code>/var/log/auth.log</code> for specific error messages when troubleshooting SSH issues.</li>\n</ul>\n<p>By securing directory permissions appropriately, SSH can operate safely and efficiently, helping maintain the integrity of remote access setups.</p>",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
            ],
            "date_published": "2025-05-07T09:13:06+05:00",
            "date_modified": "2025-05-07T09:13:12+05:00"
        },
        {
            "id": "https://ehmi.se/blog/how-to-enable-remote-shutdown-on-windows-1011-step-by-step/",
            "url": "https://ehmi.se/blog/how-to-enable-remote-shutdown-on-windows-1011-step-by-step/",
            "title": "How to Enable Remote Shutdown on Windows 10/11 (Step-by-Step!)",
            "summary": "Hey everyone! Today, I‚Äôm going to show you exactly how to enable remote shutdown on a Windows machine ‚Äî and we‚Äôll do it the right way, step-by-step. I‚Äôll make it simple, and practical, so you can test this in your own home lab. Let‚Äôs dive&hellip;",
            "content_html": "<p>Hey everyone!</p><p>Today, I‚Äôm going to <strong>show you exactly</strong> how to <strong>enable remote shutdown</strong> on a Windows machine ‚Äî and we‚Äôll do it the <strong>right way</strong>, step-by-step.</p><p>I‚Äôll make it simple, and practical, so you can <strong>test this in your own home lab</strong>.</p><p>Let‚Äôs dive right in! üöÄ</p><hr>\n<h2 id=\"üíª-why-remote-shutdown\">üíª Why Remote Shutdown?</h2>\n<p>Imagine you have a <strong>Linux</strong> machine and a <strong>Windows PC</strong> on the same network.<br>You want to shut down Windows remotely ‚Äî <strong>maybe for automation</strong>, <strong>maybe for saving power</strong> ‚Äî whatever your reason, it‚Äôs a very useful tool for labs and real environments!</p><hr>\n<h2 id=\"üö®-windows-doesnt-allow-remote-shutdown-by-default\">üö® Windows doesn‚Äôt allow remote shutdown by default!</h2>\n<p>Windows, especially <strong>Windows 10/11 Pro</strong>, is <strong>secure by default</strong>.<br>You have to <strong>enable a few features</strong> manually before it accepts remote shutdown commands.</p><hr>\n<h2 id=\"üõ†Ô∏è-heres-the-full-setup\">üõ†Ô∏è Here‚Äôs the Full Setup</h2>\n<h3 id=\"step-1-make-sure-you-have-a-local-admin-account\">Step 1: Make sure you have a <strong>Local Admin Account</strong></h3>\n<p>‚úÖ If you‚Äôre using a <strong>Microsoft Online Account</strong> (your email login),<br>Windows gets <em>really strict</em> about permissions.</p><p><strong>Best Practice</strong>:</p><ul>\n<li>Create a <strong>local admin account</strong> just for remote tasks.</li>\n<li><strong>OR</strong> ensure your Microsoft account has Admin privileges.</li>\n</ul>\n<hr>\n<h3 id=\"step-2-enable-necessary-windows-services\">Step 2: Enable Necessary Windows Services</h3>\n<p>‚úÖ Open <strong>services.msc</strong> (<code>Win + R</code>, type <code>services.msc</code>, Enter).</p><p>‚úÖ Make sure these services are <strong>running</strong>:</p><ul>\n<li><strong>Server</strong> (LanmanServer)</li>\n<li><strong>Workstation</strong> (LanmanWorkstation)</li>\n<li><strong>Remote Registry</strong> (RemoteRegistry)</li>\n</ul>\n<figure class=\"post__image\"><img loading=\"lazy\" src=\"https://ehmi.se/blog/media/posts/38/Screenshot-2025-04-29-082211.png\" alt=\"Remote Registry\" width=\"389\" height=\"268\" sizes=\"(max-width: 1920px) 100vw, 1920px\" srcset=\"https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082211-xs.webp 640w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082211-sm.webp 768w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082211-md.webp 1024w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082211-lg.webp 1366w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082211-xl.webp 1600w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082211-2xl.webp 1920w\"></figure><p>üëâ <strong>If any of these are stopped</strong>, right-click ‚Üí <strong>Start</strong> them.</p><p>üëâ Set <strong>Startup Type = Automatic</strong> for all.</p><hr>\n<h3 id=\"step-3-fix-user-rights-assignment-if-broken\">Step 3: Fix User Rights Assignment (If Broken)</h3>\n<p>Sometimes you‚Äôll see errors like:</p><p>‚úÖ In that case, reset your security policies safely:</p><p>Open <strong>Command Prompt as Administrator</strong> and run:</p><pre><code class=\"language-bash\">secedit /configure /cfg %windir%\\inf\\defltbase.inf /db defltbase.sdb /verbose\n</code></pre>\n<p>‚úÖ <strong>Reboot</strong> your machine after running that.</p><hr>\n<h3 id=\"step-4-set-shutdown-permissions\">Step 4: Set Shutdown Permissions</h3>\n<p>Now, let‚Äôs allow remote shutdowns <strong>explicitly</strong>.</p><p>‚úÖ Open <strong>secpol.msc</strong> (<code>Win + R</code>, type <code>secpol.msc</code>, Enter).</p><p>Go to:</p><ul>\n<li><strong>Local Policies ‚Üí User Rights Assignment</strong>.</li>\n</ul>\n<p>Edit these two policies:</p><ul>\n<li><p><strong>Shut down the system</strong> ‚Üí Add your user (or group like Administrators).\n<figure class=\"post__image\"><img loading=\"lazy\" src=\"https://ehmi.se/blog/media/posts/38/Screenshot-2025-04-29-082507.png\" alt=\"Shut down the system\" width=\"321\" height=\"21\" sizes=\"(max-width: 1920px) 100vw, 1920px\" srcset=\"https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082507-xs.webp 640w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082507-sm.webp 768w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082507-md.webp 1024w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082507-lg.webp 1366w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082507-xl.webp 1600w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082507-2xl.webp 1920w\"></figure></p></li>\n<li><p><strong>Force shutdown from a remote system</strong> ‚Üí Add your user.\n<figure class=\"post__image\"><img loading=\"lazy\" src=\"https://ehmi.se/blog/media/posts/38/Screenshot-2025-04-29-082441-2.png\" alt=\"Force shutdown from a remote system\" width=\"363\" height=\"34\" sizes=\"(max-width: 1920px) 100vw, 1920px\" srcset=\"https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082441-2-xs.webp 640w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082441-2-sm.webp 768w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082441-2-md.webp 1024w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082441-2-lg.webp 1366w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082441-2-xl.webp 1600w ,https://ehmi.se/blog/media/posts/38/responsive/Screenshot-2025-04-29-082441-2-2xl.webp 1920w\"></figure></p></li>\n</ul>\n<p>‚úÖ Click <strong>Apply</strong> after each.</p><hr>\n<h3 id=\"step-5-check-firewall-settings\">Step 5: Check Firewall Settings</h3>\n<p>Windows Firewall <strong>blocks remote shutdown</strong> by default.</p><p>‚úÖ Open <strong>Windows Defender Firewall ‚Üí Advanced Settings</strong>.</p><ul>\n<li>Click <strong>Inbound Rules</strong> ‚Üí Find <strong>Windows Management Instrumentation (WMI-In)</strong>.</li>\n<li><strong>Enable</strong> it.</li>\n</ul>\n<p>‚úÖ If you can‚Äôt find it, you can also <strong>create a custom inbound rule</strong> to allow ports <strong>135, 445, 139</strong> (SMB/RPC ports).</p><hr>\n<h2 id=\"üî•-final-test-from-linux\">üî• Final Test from Linux</h2>\n<p>From your <strong>Linux machine</strong>, you can now send a shutdown command:</p><pre><code class=\"language-bash\">net rpc shutdown -I &lt;Windows-IP&gt; -U &quot;&lt;username&gt;%&lt;password&gt;&quot;\n</code></pre>\n<p>Example:</p><pre><code class=\"language-bash\">net rpc shutdown -I 10.1.1.5 -U &quot;labadmin%SuperSecretPassword&quot;\n</code></pre>\n<p>‚úÖ If you set everything up correctly, Windows will <strong>start shutting down</strong> remotely!</p><hr>\n<h1 id=\"üí•-troubleshooting\">üí• Troubleshooting</h1>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Problem</th>\n<th align=\"left\">Solution</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">WERR_CALL_NOT_IMPLEMENTED</td>\n<td align=\"left\">Services not running (check Server/Workstation).</td>\n</tr>\n<tr>\n<td align=\"left\">An attempt was made to reference a token</td>\n<td align=\"left\">Run <code>secedit /configure</code>, reboot.</td>\n</tr>\n<tr>\n<td align=\"left\">Permission denied</td>\n<td align=\"left\">Make sure your user is added to the shutdown rights policies.</td>\n</tr>\n<tr>\n<td align=\"left\">Firewall blocks request</td>\n<td align=\"left\">Allow WMI and RPC ports in Windows Firewall.</td>\n</tr>\n</tbody></table>\n<hr>\n<h1 id=\"üéØ-conclusion\">üéØ Conclusion</h1>\n<p>There you go! Now you can <strong>remotely shut down</strong> your Windows machine like a pro.<br>This is <strong>great for labs</strong>, <strong>automated environments</strong>, or even <strong>home networks</strong> where you want full control.</p><p>üîµ <strong>Remember</strong>: Always use this carefully ‚Äî shutting down someone else‚Äôs PC without permission is illegal.<br>In labs = fine. In real life = be responsible.</p>",
            "author": {
                "name": "Ehmad"
            },
            "tags": [
            ],
            "date_published": "2025-04-29T08:28:56+05:00",
            "date_modified": "2025-04-29T08:29:38+05:00"
        }
    ]
}
