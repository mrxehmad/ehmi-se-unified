<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Analysis of the Recent 4chan Hack: Motivations, Methods, and Perpetrators - Ehmi</title><meta name="description" content="Analysis of the Recent 4chan Hack: Motivations, Methods, and Perpetrators, Ehmi, Ehmad."><meta name="generator" content="Publii Open-Source CMS for Static Site"><meta name="theme-color" content="#17181E" media="(prefers-color-scheme: dark)"><meta name="theme-color" content="#3AB8D7" media="(prefers-color-scheme: light)"><meta name="msapplication-navbutton-color" content="#3AB8D7"><meta name="apple-mobile-web-app-status-bar-style" content="#3AB8D7"><link rel="canonical" href="https://ehmi.se/blog/analysis-of-the-recent-4chan-hack-motivations-methods-and-perpetrators/"><link rel="alternate" type="application/atom+xml" href="https://ehmi.se/blog/feed.xml" title="Ehmi - RSS"><link rel="alternate" type="application/json" href="https://ehmi.se/blog/feed.json" title="Ehmi - JSON"><meta property="og:title" content="Analysis of the Recent 4chan Hack: Motivations, Methods, and Perpetrators"><meta property="og:image" content="https://ehmi.se/blog/media/website/659fa592476e081fbd5a38d0_11.png"><meta property="og:image:width" content="1920"><meta property="og:image:height" content="1080"><meta property="og:site_name" content="Ehmi"><meta property="og:description" content="Analysis of the Recent 4chan Hack: Motivations, Methods, and Perpetrators, Ehmi, Ehmad."><meta property="og:url" content="https://ehmi.se/blog/analysis-of-the-recent-4chan-hack-motivations-methods-and-perpetrators/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@Ehmi0k"><meta name="twitter:title" content="Analysis of the Recent 4chan Hack: Motivations, Methods, and Perpetrators"><meta name="twitter:description" content="Analysis of the Recent 4chan Hack: Motivations, Methods, and Perpetrators, Ehmi, Ehmad."><meta name="twitter:image" content="https://ehmi.se/blog/media/website/659fa592476e081fbd5a38d0_11.png"><link rel="shortcut icon" href="https://ehmi.se/blog/media/website/favicon.png" type="image/png"><link rel="stylesheet" href="https://ehmi.se/blog/assets/css/style.css?v=d385bc0ff3a04c1b92f998df1d9dfc3f"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ehmi.se/blog/analysis-of-the-recent-4chan-hack-motivations-methods-and-perpetrators/"},"headline":"Analysis of the Recent 4chan Hack: Motivations, Methods, and Perpetrators","datePublished":"2025-04-24T16:17+05:00","dateModified":"2025-04-24T16:17+05:00","image":{"@type":"ImageObject","url":"https://ehmi.se/blog/media/website/ehmi.png","height":100,"width":150},"description":"Analysis of the Recent 4chan Hack: Motivations, Methods, and Perpetrators, Ehmi, Ehmad.","author":{"@type":"Person","name":"Ehmad","url":"https://ehmi.se/blog/authors/ehmad/"},"publisher":{"@type":"Organization","name":"Ehmad","logo":{"@type":"ImageObject","url":"https://ehmi.se/blog/media/website/ehmi.png","height":100,"width":150}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://ehmi.se/blog/"><img src="https://ehmi.se/blog/media/website/ehmi.png" alt="Ehmi" width="150" height="100"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ehmi.se/blog/about-ehmi/" target="_self">About me</a></li><li><a href="https://ehmi.se/blog/contact-us/" target="_self">Contact</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="wrapper search__overlay-inner"></div></div><button class="search__btn btn--icon js-search-btn" aria-label="Search"><svg height="18" width="18" role="presentation" focusable="false"><use xlink:href="https://ehmi.se/blog/assets/svg/svg-map.svg#search"/></svg></button></div></header><main class="post"><article class="content"><div class="hero hero--noimage"><header class="hero__content"><div class="wrapper"><h1>Analysis of the Recent 4chan Hack: Motivations, Methods, and Perpetrators</h1><div class="feed__meta content__meta"><a href="https://ehmi.se/blog/authors/ehmad/" class="feed__author">Ehmad</a> <time datetime="2025-04-24T16:17" class="feed__date">April 24, 2025 </time><span class="reading-time" aria-label="8 min read">8 min read</span></div></div></header></div><div class="entry-wrapper content__entry"><h2 id="key-points">Key Points</h2><ul><li>It seems likely that the recent 4chan hack was motivated by rivalry with Soyjak.party, a competing imageboard.</li><li>Research suggests the hack involved exploiting vulnerabilities, possibly due to outdated software, with access for over a year.</li><li>The evidence leans toward Soyjak.party users, particularly an anonymous hacker, being responsible, though identities remain unclear.</li><li>There is controversy around the hack‚Äôs full impact, with some speculating legal risks for hackers, while others see no immediate consequences.</li></ul><hr><h2 id="background">Background</h2><p>4chan, founded in 2003, is an anonymous message board known for memes, subcultures, and controversial content, including ties to extremist movements. It has faced scrutiny for incidents like the 2019 Christchurch shooting and 2022 Buffalo shooting, linked to its platform.</p><h2 id="why-it-happened">Why It Happened</h2><p>The hack appears to stem from a rivalry between 4chan and Soyjak.party, a spinoff imageboard formed by former 4chan users, particularly from the banned /qa/ board. Soyjak.party, dedicated to soyjak memes, has positioned itself in opposition to 4chan, with ideological differences and competition for users fueling tensions. The attack was likely a deliberate act to disrupt 4chan and assert dominance, as claimed by Soyjak.party users celebrating the breach.</p><h2 id="how-it-happened">How It Happened</h2><p>The exact method is not fully known, but the hacker claimed over a year of access, suggesting a persistent exploit, possibly a zero-day vulnerability or backdoor. Reports indicate 4chan‚Äôs outdated, unpatched software likely contributed, allowing deep access to backend systems, leaking source code, moderator emails, and user data.</p><h2 id="who-did-it-and-impact-on-them">Who Did It and Impact on Them</h2><p>Soyjak.party users, particularly an anonymous hacker using the handle ‚ÄúChud,‚Äù claimed responsibility. The hacker‚Äôs identity remains unknown, and as of April 24, 2025, no legal consequences have been reported, likely due to anonymity. However, increased scrutiny could pose future risks.</p><hr><h2 id="detailed-report-analysis-of-the-recent-4chan-hack">Detailed Report: Analysis of the Recent 4chan Hack</h2><h3 id="introduction">Introduction</h3><p>On April 15, 2025, the notorious internet message board 4chan, founded in 2003 by Christopher Poole, was subjected to a significant cybersecurity breach, first reported on rival Soyjak.party. The site experienced outages, with a defunct section displaying ‚ÄúU GOT HACKED,‚Äù and leaked data included moderator emails, source code, and personal information, causing widespread disruption. This report provides a comprehensive analysis of why the hack occurred, how it was executed, who was behind it, and the potential impact on those responsible, based on reports from reputable sources such as <em>Reuters</em>, <em>WIRED</em>, <em>TechCrunch</em>, and others, as of April 24, 2025.</p><h3 id="background-context">Background Context</h3><p>4chan is known for its anonymous, unmoderated forums, which have been a breeding ground for memes, subcultures, and controversial content, including ties to far-right extremism. It has been linked to significant incidents, such as the 2019 Christchurch shooting (<a href="https://www.washingtonpost.com/world/2020/01/15/new-zealand-vowed-silence-alleged-christchurch-killers-hateful-speech-letter-he-wrote-was-posted-4chan/">Washington Post</a>) and the 2022 Buffalo shooting (<a href="https://www.theguardian.com/commentisfree/2022/may/17/4chan-helped-radicalize-the-buffalo-shooter-its-time-to-treat-it-like-a-terrorist-network">The Guardian</a>). The platform‚Äôs history of minimal oversight and association with toxic activity, including QAnon and incel movements, sets the stage for understanding the hack‚Äôs motivations and implications.</p><h3 id="why-did-it-happen">Why Did It Happen?</h3><p>The hack was likely motivated by the ongoing rivalry between 4chan and Soyjak.party, a competing imageboard. Soyjak.party, also known as ‚ÄúThe Party‚Äù or ‚ÄúThe Sharty,‚Äù was formed in September 2020 by users from 4chan‚Äôs banned /qa/ board, primarily dedicated to creating and sharing soyjak memes (<a href="https://knowyourmeme.com/memes/sites/soyjakparty">Know Your Meme</a>). This spinoff has positioned itself in opposition to 4chan, with ideological differences and competition for users fueling tensions.</p><ul><li><strong>Rivalry and Animosity</strong>: Reports suggest a history of conflict, with Soyjak.party users often criticizing 4chan for its perceived decline and association with extremism, while 4chan users view Soyjak.party as a derivative platform (<a href="https://wiki.soyjak.st/Soyjak.party">Soyjak Wiki</a>). This mutual disdain created fertile ground for retaliatory actions, as evidenced by Soyjak.party users claiming the hack as a victory.</li><li><strong>Community Infighting</strong>: The breach was announced on Soyjak.party by a user with the handle ‚ÄúChud,‚Äù describing it as ‚Äúoperation soyclipse,‚Äù suggesting a premeditated and symbolic act to disrupt 4chan (<a href="https://www.bleepingcomputer.com/news/security/infamous-message-board-4chan-taken-down-following-major-hack/">BleepingComputer</a>). This indicates the hack was likely driven by a desire to expose vulnerabilities, assert dominance, and potentially damage 4chan‚Äôs reputation.</li></ul><p>Thus, the evidence leans toward the hack being a deliberate act of rivalry, with Soyjak.party users seeking to undermine 4chan‚Äôs operations and community standing.</p><h3 id="how-did-it-happen">How Did It Happen?</h3><p>The exact technical details of the hack are not fully disclosed, but available reports provide insights into the breach‚Äôs execution:</p><ul><li><strong>Prolonged Access</strong>: The hacker claimed to have been inside 4chan‚Äôs systems for over a year, as reported by <em>TechCrunch</em> and <em>BleepingComputer</em> (<a href="https://techcrunch.com/2025/04/15/notorious-image-board-4chan-hacked-and-internal-data-leaked/">TechCrunch</a>, <a href="https://www.bleepingcomputer.com/news/security/infamous-message-board-4chan-taken-down-following-major-hack/">BleepingComputer</a>). This suggests a sophisticated and persistent attack, possibly involving a zero-day exploit or a backdoor that allowed the attacker to maintain access without detection.</li><li><strong>Deep System Access</strong>: The leaked data included 4chan‚Äôs source code, moderator emails, usernames, photos, and personal information of 4chan Pass subscribers, indicating the hacker gained administrative or root-level privileges (<a href="https://www.wired.com/story/2025-4chan-hack-admin-leak/">WIRED</a>). This level of access allowed the extraction of sensitive backend systems, including templates to ban users and moderation logs.</li><li><strong>Outdated Infrastructure</strong>: Experts, including those quoted in <em>WIRED</em>, noted that 4chan may have been running on legacy, unpatched software, not properly maintained for years (<a href="https://www.wired.com/story/2025-4chan-hack-admin-leak/">WIRED</a>). This lack of security updates likely contributed to the vulnerability, making it easier for the hacker to exploit weaknesses in the site‚Äôs infrastructure.</li><li><strong>Execution and Disclosure</strong>: The hack became public when a defunct section of 4chan was reactivated, displaying ‚ÄúU GOT HACKED,‚Äù and screenshots of the backend, source code, and internal data were circulated online (<a href="https://www.reuters.com/technology/cybersecurity/notorious-internet-messageboard-4chan-has-been-hacked-posts-claim-2025-04-15/">Reuters</a>). This public disclosure, claimed by Soyjak.party, led to widespread outages and confirmed the breach‚Äôs severity.</li></ul><p>While the precise method of initial access remains unclear, the prolonged nature of the breach and the depth of compromised data point to a highly skilled attacker who exploited significant vulnerabilities in 4chan‚Äôs infrastructure.</p><h3 id="who-carried-out-the-attack-and-impact-on-them">Who Carried Out the Attack and Impact on Them</h3><p>The hack was claimed by users of Soyjak.party, with a user named ‚ÄúChud‚Äù announcing the breach on their platform. According to reports, the hacker responsible had been inside 4chan‚Äôs systems for over a year before executing the attack, but their identity remains anonymous (<a href="https://www.bleepingcomputer.com/news/security/infamous-message-board-4chan-taken-down-following-major-hack/">BleepingComputer</a>).</p><ul><li><strong>Soyjak.party‚Äôs Role</strong>: While Soyjak.party users celebrated the hack and claimed responsibility, it is unclear whether the hacker was a single individual or part of a coordinated group. The announcement described the hack as ‚Äúoperation soyclipse,‚Äù suggesting a premeditated and symbolic act, and Soyjak.party users began doxxing the leaked accounts, further escalating the impact (<a href="https://consequence.net/2025/04/4chan-hacked/">Consequence</a>).</li><li><strong>Anonymity and Identity</strong>: The hacker‚Äôs identity has not been publicly revealed, and given the anonymous nature of both platforms, it is unlikely they will be identified. Law enforcement or cybersecurity experts may be investigating, but as of April 24, 2025, no arrests or public actions against the hacker have been reported (<a href="https://www.newsweek.com/4chan-down-hack-downdetector-reports-2059862">Newsweek</a>).</li><li><strong>Impact on Those Responsible</strong>: There is no public information indicating that those responsible have faced legal or personal consequences. The anonymity of the hacker and the decentralized nature of Soyjak.party make it difficult to trace or hold individuals accountable. However, the hack has heightened awareness of cybersecurity vulnerabilities in imageboard platforms, potentially leading to increased scrutiny by law enforcement and cybersecurity experts, which could pose future risks.</li></ul><p>Thus, while Soyjak.party users took credit for the hack, the actual perpetrator remains an anonymous individual or group, with no reported consequences as of now, though controversy exists around potential future legal risks.</p><h3 id="broader-implications-and-controversy">Broader Implications and Controversy</h3><p>The hack raises significant questions about the security of online forums, especially those prioritizing anonymity. It could mark ‚Äúthe end of 4chan as we know it,‚Äù given exposed data and risks to moderators, as suggested by <em>Sky News</em> (<a href="https://news.sky.com/story/is-this-the-end-of-notorious-4chan-internet-forum-13349823">Sky News</a>). There is controversy around the hack‚Äôs full impact, with some speculating legal risks for hackers due to exposed data, while others see no immediate consequences, highlighting the complexity of addressing such breaches in anonymous communities.</p><h3 id="summary-table-key-details-of-the-hack">Summary Table: Key Details of the Hack</h3><table><thead><tr><th><strong>Aspect</strong></th><th><strong>Details</strong></th></tr></thead><tbody><tr><td>Date of Hack</td><td>Around April 15, 2025</td></tr><tr><td>Reported By</td><td>Soyjak.party, various news outlets (Reuters, WIRED, TechCrunch, etc.)</td></tr><tr><td>Why It Happened</td><td>Likely due to rivalry with Soyjak.party, motivated by competition and animosity</td></tr><tr><td>How It Happened</td><td>Hacker had access for over a year, exploited vulnerabilities, possibly outdated software</td></tr><tr><td>Who Did It</td><td>Claimed by Soyjak.party users, anonymous hacker, identity unclear</td></tr><tr><td>Impact on Hackers</td><td>No reported consequences as of April 24, 2025, potential future scrutiny</td></tr><tr><td>Verification Status</td><td>Partially confirmed by a moderator; some claims unverified</td></tr><tr><td>Site Impact</td><td>Down or intermittently available, outages lasted over a day</td></tr><tr><td>Potential Risks</td><td>Moderator safety, site vulnerability, possible legal risks for hackers</td></tr></tbody></table><p>This table summarizes the critical aspects of the hack, providing a quick reference for understanding its scope, motivations, and implications.</p><h3 id="conclusion">Conclusion</h3><p>The April 2025 4chan hack was a significant cybersecurity incident driven by rivalry with Soyjak.party, executed by an anonymous hacker exploiting vulnerabilities in 4chan‚Äôs infrastructure. The breach exposed sensitive data, with no reported consequences for the hackers as of April 24, 2025, though potential future scrutiny remains. It underscores the challenges of maintaining security on anonymous platforms and highlights the risks of community rivalries escalating into cyberattacks.</p><hr><h2 id="key-citations">Key Citations</h2><ul><li><a href="https://www.reuters.com/technology/cybersecurity/notorious-internet-messageboard-4chan-has-been-hacked-posts-claim-2025-04-15/">Notorious internet messageboard 4chan has been hacked, posts claim</a></li><li><a href="https://www.wired.com/story/2025-4chan-hack-admin-leak/">Suspected 4chan Hack Could Expose Longtime, Anonymous Admins</a></li><li><a href="https://techcrunch.com/2025/04/15/notorious-image-board-4chan-hacked-and-internal-data-leaked/">Notorious image board 4chan hacked and internal data leaked</a></li><li><a href="https://www.bleepingcomputer.com/news/security/infamous-message-board-4chan-taken-down-following-major-hack/">Infamous message board 4chan taken down following major hack</a></li><li><a href="https://wiki.soyjak.st/Soyjak.party">Soyjak.party - Soyjak Wiki</a></li><li><a href="https://en.wikipedia.org/wiki/4chan">4chan - Wikipedia</a></li><li><a href="https://knowyourmeme.com/memes/sites/soyjakparty">Soyjak.party | Know Your Meme</a></li><li><a href="https://www.newsweek.com/4chan-down-hack-downdetector-reports-2059862">Is 4chan Down? What We Know Amid Hack Reports</a></li><li><a href="https://consequence.net/2025/04/4chan-hacked/">4chan Likely Gone Forever After Hackers Take Control</a></li><li><a href="https://news.sky.com/story/is-this-the-end-of-notorious-4chan-internet-forum-13349823">‚ÄòThe end of 4chan as we know it‚Äô: Why hacking attack could kill notorious internet forum</a></li><li><a href="https://www.washingtonpost.com/world/2020/01/15/new-zealand-vowed-silence-alleged-christchurch-killers-hateful-speech-letter-he-wrote-was-posted-4chan/">New Zealand vowed silence on alleged Christchurch killer‚Äôs hateful speech. The letter he wrote was posted on 4chan</a></li><li><a href="https://www.theguardian.com/commentisfree/2022/may/17/4chan-helped-radicalize-the-buffalo-shooter-its-time-to-treat-it-like-a-terrorist-network">4chan helped radicalize the Buffalo shooter. It‚Äôs time to treat it like a terrorist network</a></li></ul></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on April 24, 2025</p><div class="content__actions"><div class="content__share"><button class="btn--icon content__share-button js-content__share-button"><svg width="20" height="20" aria-hidden="true"><use xlink:href="https://ehmi.se/blog/assets/svg/svg-map.svg#share"></use></svg> <span>Share It</span></button><div class="content__share-popup js-content__share-popup"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fehmi.se%2Fblog%2Fanalysis-of-the-recent-4chan-hack-motivations-methods-and-perpetrators%2F" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://ehmi.se/blog/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fehmi.se%2Fblog%2Fanalysis-of-the-recent-4chan-hack-motivations-methods-and-perpetrators%2F&amp;via=Ehmi0k&amp;text=Analysis%20of%20the%20Recent%204chan%20Hack%3A%20Motivations%2C%20Methods%2C%20and%20Perpetrators" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://ehmi.se/blog/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fehmi.se%2Fblog%2Fanalysis-of-the-recent-4chan-hack-motivations-methods-and-perpetrators%2F" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://ehmi.se/blog/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span></a></div></div></div><div class="content__bio bio"><div><h3 class="h4 bio__name"><a href="https://ehmi.se/blog/authors/ehmad/" rel="author">Ehmad</a></h3></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://ehmi.se/blog/the-wine-loader-malware-campaign-a-sophisticated-cyber-espionage-tool-targeting-eu-diplomats/" class="content__nav-link" rel="prev"><div><span>Previous</span> The Wine Loader Malware Campaign: A Sophisticated Cyber Espionage Tool Targeting EU Diplomats</div></a></div><div class="content__nav-next"><a href="https://ehmi.se/blog/how-to-enable-remote-shutdown-on-windows-1011-step-by-step/" class="content__nav-link" rel="next"><div><span>Next</span> How to Enable Remote Shutdown on Windows 10/11 (Step-by-Step!)</div></a></div></div></div></nav></footer></article><div class="content__related related"><div class="wrapper"><h2 class="h4 related__title">You should also read:</h2><article class="feed__item feed__item--centered"><div class="feed__content"><header><div class="feed__meta"><a href="https://ehmi.se/blog/authors/ehmad/" class="feed__author">Ehmad</a> <time datetime="2025-02-23T16:02" class="feed__date">February 23, 2025</time></div><h3 class="feed__title"><a href="https://ehmi.se/blog/tenda-ac9-firmware-analysis/">Tenda AC9 Firmware Analysis</a></h3></header><p>Reverse Engineering the Tenda AC9 Firmware Routers are the unsung heroes of our connected lives‚Äîquietly humming away, keeping us online. But what‚Äôs really going on inside them? I recently got curious about my Tenda AC9 router and decided to crack open its firmware‚ÄîUS_AC9V1.0BR_V15.03.05.15_multi_TDE01.bin‚Äîto see what&hellip;</p><a href="https://ehmi.se/blog/tenda-ac9-firmware-analysis/" class="readmore feed__readmore">Continue reading...</a></div></article></div></div></main><footer class="footer footer--glued"><div class="wrapper"><nav class="footer__nav"><ul><li><a href="https://ehmi.se/blog/terms-and-conditions-for-ehmi/" class="al" target="_self">Terms and Conditions</a></li><li><a href="https://ehmi.se/blog/privacy-policy-for-ehmi/" class="al" target="_self">Privacy Policy</a></li><li><a href="https://ehmi.se/blog/contact-us/" class="al" target="_self">Contact</a></li><li><a href="https://github.com/mrxehmad/" class="al" target="_blank">Github</a></li></ul></nav><div class="footer__copyright"><p>Copyright 2025</p></div><div class="footer__social"><a href="https://ehmi.se/instagram" aria-label="Instagram"><svg><use xlink:href="https://ehmi.se/blog/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://ehmi.se/linkedin" aria-label="LinkedIn"><svg><use xlink:href="https://ehmi.se/blog/assets/svg/svg-map.svg#linkedin"/></svg></a></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://ehmi.se/blog/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://ehmi.se/blog/assets/js/scripts.min.js?v=700105c316933a8202041b6415abb233"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script>'use strict'; document.addEventListener('DOMContentLoaded', function() { var obfElements = document.querySelectorAll('.obfuscated-email'); obfElements.forEach(function(elem) { var dataType = elem.getAttribute('data-type'); var encodedEmail = elem.getAttribute('data-email'); var user = elem.getAttribute('data-user'); var domain = elem.getAttribute('data-domain'); var decodedEmail = ''; if (user && domain) { decodedEmail = user.split('').reverse().join('') + '@' + domain.split('').reverse().join(''); } else if (encodedEmail) { const parts = encodedEmail.split('@'); if (parts.length === 2) { decodedEmail = parts[0].split('').reverse().join('') + '@' + parts[1].split('').reverse().join(''); } else { decodedEmail = encodedEmail; } } if (dataType === 'mailto') { var originalText = elem.textContent.trim(); var a = document.createElement('a'); a.href = 'mailto:' + decodedEmail; if (elem.classList.length > 0) { a.className = elem.className; } if (originalText === '') { a.textContent = decodedEmail; } else { a.textContent = originalText; } elem.parentNode.replaceChild(a, elem); } else if (dataType === 'text') { var textNode = document.createTextNode(decodedEmail); elem.parentNode.replaceChild(textNode, elem); } }); });</script><script>(function() {
			var originalTitle = document.title;
			var timeout;
			document.addEventListener("visibilitychange", function() {
				if (document.hidden) {
					timeout = setTimeout(function() {
							document.title = "üëÄ We miss you! Come back!";
						}, 200);
				} else {
					clearTimeout(timeout);
					setTimeout(function() {
							document.title = "üéâ Welcome back!";
							setTimeout(function() {
								document.title = originalTitle;
							}, 2000);
						}, 100);
				}
			});
		})();</script><script src="https://ehmi.se/blog/media/plugins/pagePrefetching/quicklink.umd.js"></script><script>window.addEventListener('load', () => {
					quicklink.listen({
						prerender: true,
						el: document.querySelector('body'),
						delay: 0,
						limit: 5,
						throttle: 5,
						timeout: 2000
					});
				});</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner pcb__banner--right"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. <a href="https://ehmi.se/blog/privacy-policy-for-ehmi/">More details...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="https://ehmi.se/blog/privacy-policy-for-ehmi/">More details...</a></div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Required</summary></details><div class="pcb__popup__switch is-checked"><input type="checkbox" data-group-name="" id="pcb-group-0" checked="checked"> <label for="pcb-group-0">Required</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>window.dataLayer = window.dataLayer || [];
                function gtag() { dataLayer.push(arguments); }

                window.publiiCBGCM = {
                    defaultState: {"ad_storage":true,"ad_personalization":true,"ad_user_data":true,"analytics_storage":true,"personalization_storage":true,"functionality_storage":true,"security_storage":false},
                    groups: []
                };
            
            (function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('üç™ Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('üç™ GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('üç™ Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('üç™ GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('üç™ Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('üç™ GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('üç™ Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('üç™ Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('üç™ State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('üç™ Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('üç™ Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('üç™ Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('üç™ Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('üç™ Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('üç™ Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('üç™ Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>