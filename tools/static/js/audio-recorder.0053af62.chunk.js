"use strict";(self.webpackChunktoolkit_website=self.webpackChunktoolkit_website||[]).push([[2134],{6077:(e,o,r)=>{r.r(o),r.d(o,{default:()=>n});var t=r(2483),i=r(6723);const n=function(){const[e,o]=(0,t.useState)(!1),[r,n]=(0,t.useState)(null),[a,d]=(0,t.useState)(!1),[s,c]=(0,t.useState)(0),[l,u]=(0,t.useState)("Ready"),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)("info"),[b,h]=(0,t.useState)(null),[w,y]=(0,t.useState)(!1),[x,R]=(0,t.useState)(!1),[S,v]=(0,t.useState)(null),[k,j]=(0,t.useState)(null),M=(0,t.useRef)(null),C=(0,t.useRef)(null),T=(0,t.useRef)([]),D=(0,t.useRef)(null),z=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";f(e),g(o),setTimeout((()=>f(null)),4e3)},W=()=>{c(Math.floor((Date.now()-C.current)/1e3))};let N=[];navigator.mediaDevices&&N.push("mediaDevices"),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&N.push("getUserMedia"),window.MediaRecorder&&N.push("MediaRecorder"),window.MediaRecorder&&window.MediaRecorder.isTypeSupported&&(window.MediaRecorder.isTypeSupported("audio/webm")&&N.push("audio/webm"),window.MediaRecorder.isTypeSupported("audio/webm;codecs=opus")&&N.push("opus")),console.log("AudioRecorder support debug:",N);const U=!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.MediaRecorder&&(window.MediaRecorder.isTypeSupported("audio/webm")||window.MediaRecorder.isTypeSupported("audio/webm;codecs=opus")));return(0,i.jsxs)("div",{style:{background:"#ffffff",borderRadius:"20px",padding:"3rem 2rem",boxShadow:"0 2px 20px rgba(0, 0, 0, 0.08)",textAlign:"center",maxWidth:400,width:"90%",border:"1px solid rgba(0, 0, 0, 0.04)",margin:"2rem auto",position:"relative"},children:[(0,i.jsxs)("div",{style:{position:"absolute",top:"1rem",right:"1rem",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center",opacity:e?1:0,transition:"opacity 0.3s ease"},children:[(0,i.jsx)("span",{style:{display:"inline-block",width:18,height:18,borderRadius:"50%",background:"#fff",boxShadow:"0 0 0 2px #fff",position:"absolute"}}),(0,i.jsx)("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#ff3b30",position:"absolute",animation:e?"pulse 1.5s infinite cubic-bezier(0.4,0,0.2,1)":"none"}})]}),(0,i.jsx)("h1",{style:{color:"#1d1d1f",fontSize:"1.75rem",fontWeight:600,marginBottom:"0.5rem",letterSpacing:"-0.02em"},children:"Audio Recorder"}),(0,i.jsx)("p",{style:{color:"#86868b",fontSize:"0.95rem",marginBottom:"2.5rem",fontWeight:400},children:"Record audio from your microphone"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",marginBottom:"1.5rem",height:24},children:[(0,i.jsx)("div",{style:{width:8,height:8,borderRadius:"50%",background:e?"#ff3b30":"#d1d1d6",transition:"all 0.2s ease",animation:e?"pulse 2s infinite ease-in-out":"none"}}),(0,i.jsx)("span",{style:{fontSize:"0.9rem",color:"#86868b",fontWeight:500},children:l})]}),(0,i.jsx)("div",{style:{fontSize:"2rem",fontWeight:300,color:"#1d1d1f",marginBottom:"2rem",fontVariantNumeric:"tabular-nums",letterSpacing:"0.02em",minHeight:"2.4rem",display:"flex",alignItems:"center",justifyContent:"center"},children:(e=>{const o=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`})(s)}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"2rem"},children:[(0,i.jsx)("button",{className:"btn btn-start"+(w?" loading":""),style:{padding:"16px 24px",border:"none",borderRadius:14,fontSize:"1rem",fontWeight:500,cursor:w||!U?"not-allowed":"pointer",background:"#007aff",color:"white",borderColor:"transparent",opacity:w||!U?.6:1},onClick:async()=>{y(!0);try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});j(e);const r=MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"",t=r?{mimeType:r}:{},i=new window.MediaRecorder(e,t);v(i),T.current=[],i.ondataavailable=e=>{e.data&&e.data.size>0&&T.current.push(e.data)},i.onstop=()=>{o(!1),u("Complete");const e=T.current;if(0===e.length)return z("Recording failed - no data captured. Try a longer recording.","error"),void u("Failed");const r=i.mimeType||"audio/webm",t=new Blob(e,{type:r});if(0===t.size)return z("Recording is empty - try recording for longer","error"),void u("Failed");const a=URL.createObjectURL(t);h(a),R(!0),n(a),d(!0),z("Recording ready! Click download to save.","success")},i.onerror=()=>{z("Recording error occurred","error")},i.start(),C.current=Date.now(),c(0),M.current=setInterval(W,1e3),o(!0),u("Recording"),R(!1),d(!1),n(null),y(!1),z("Recording started","success")}catch(e){y(!1);let o="Unable to start recording. ";"NotAllowedError"===e.name?o="Microphone permission denied. Please allow and try again.":"NotSupportedError"===e.name?o="Audio recording not supported in this browser.":"NotFoundError"===e.name?o="No microphone available to capture.":"AbortError"===e.name?o="Microphone access was cancelled.":o+="Please check your browser settings.",z(o,"error")}},disabled:e||w||!U,children:w?"Starting...":"Start Recording"}),(0,i.jsx)("button",{className:"btn btn-stop",style:{padding:"16px 24px",border:"none",borderRadius:14,fontSize:"1rem",fontWeight:500,cursor:e?"pointer":"not-allowed",background:"#ff3b30",color:"white",borderColor:"transparent",opacity:e?1:.6},onClick:()=>{S&&"recording"===S.state&&S.stop(),k&&k.getTracks().forEach((e=>e.stop())),M.current&&clearInterval(M.current),o(!1),u("Processing...")},disabled:!e,children:"Stop Recording"}),(0,i.jsx)("button",{className:"btn btn-download"+(a?" force-enabled":""),style:{padding:"16px 24px",border:"none",borderRadius:14,fontSize:"1rem",fontWeight:500,background:a?"#34c759":"#f2f2f7",color:a?"white":"#86868b",borderColor:"transparent",cursor:a?"pointer":"not-allowed",opacity:a?1:.6},onClick:()=>{if(!a||!r)return void z("No recording available to download","error");const e=document.createElement("a");e.href=r,e.download=`audio-recording-${Date.now()}.webm`,e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),z("Download started!","success")},disabled:!a,children:"Download"})]}),p&&(0,i.jsx)("div",{className:`message ${m}`,style:{padding:"12px 16px",borderRadius:12,marginTop:"1rem",fontSize:"0.9rem",fontWeight:500,background:"error"===m?"#fff2f2":"success"===m?"#f0fff4":"#f0f9ff",color:"error"===m?"#d1242f":"success"===m?"#059669":"#0369a1",border:"error"===m?"1px solid rgba(209, 36, 47, 0.1)":"success"===m?"1px solid rgba(5, 150, 105, 0.1)":"1px solid rgba(3, 105, 161, 0.1)",animation:"fadeIn 0.3s ease-out"},children:p}),x&&b&&(0,i.jsx)("div",{style:{marginTop:"2rem",borderRadius:12,overflow:"hidden",background:"#f2f2f7",border:"1px solid #e5e5ea"},children:(0,i.jsx)("audio",{ref:D,src:b,controls:!0,preload:"metadata",style:{width:"100%",maxWidth:"100%",display:"block",background:"#000"}})}),!U&&(0,i.jsx)("div",{style:{marginTop:"1rem",color:"#d1242f",fontWeight:500},children:"Audio recording not supported. Use Chrome, Firefox, or Edge."}),(0,i.jsx)("style",{children:"\n        @keyframes pulse {\n          0%, 100% { opacity: 1; transform: scale(1); }\n          50% { opacity: 0.6; transform: scale(1.2); }\n        }\n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(8px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      "})]})}}}]);
//# sourceMappingURL=audio-recorder.0053af62.chunk.js.map